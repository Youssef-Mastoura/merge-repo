<div class="modify-container">
  <div class="modify-card">
    <div class="modify-card-body">
      <h2 class="modify-title">ðŸŽ¨ Modify Event</h2>
      <form (ngSubmit)="onSubmit()" #eventForm="ngForm">
        <!-- Event Name -->
        <div class="form-group">
          <label for="eventName">Event Name</label>
          <input type="text" id="eventName" class="form-control" required [(ngModel)]="event.eventName" name="eventName">
        </div>

        <!-- Description -->
        <div class="form-group">
          <label for="eventDescription">Event Description</label>
          <textarea id="eventDescription" class="form-control" required [(ngModel)]="event.eventDescription" name="eventDescription"></textarea>
        </div>

        <!-- Type -->
        <div class="form-group">
          <label for="eventType">Event Type</label>
          <input type="text" id="eventType" class="form-control" required [(ngModel)]="event.eventType" name="eventType">
        </div>

        <!-- Poster -->
        <div class="form-group">
          <label for="posterUpload">Event Poster</label>
          <div class="input-group">
            <input 
              type="file" 
              class="form-control" 
              id="posterUpload" 
              accept="image/*"
              (change)="onFileSelected($event)"
            >
            <button 
              class="btn clear-btn" 
              type="button"
              (click)="clearImageSelection()"
              [disabled]="!selectedFile && !imagePreview"
            >
              Clear
            </button>
          </div>
          <small *ngIf="selectedFile" class="text-success mt-1">
            Selected file: {{selectedFile.name}} ({{ (selectedFile.size / 1024).toFixed(2) }} KB)
          </small>
          <div *ngIf="imagePreview" class="image-preview">
            <img [src]="imagePreview" alt="Preview">
          </div>
        </div>

        <!-- Host & Details -->
        <div class="form-group">
          <label>Host</label>
          <input class="form-control" [(ngModel)]="event.host" name="host" required />
        </div>
        <div class="form-group">
          <label>Host Details</label>
          <input class="form-control" [(ngModel)]="event.hostdescription" name="hostdescription" required />
        </div>
        <div class="form-group">
          <label>Host Linkedin</label>
          <input class="form-control" [(ngModel)]="event.hostlinkedin" name="hostlinkedin" />
        </div>
        <div class="form-group">
          <label>Event Video URL</label>
          <input class="form-control" [(ngModel)]="event.videoURL" name="videoURL" required />
        </div>

        <!-- Dates -->
        <div class="form-group">
          <label for="eventStartDate">Event Start Date</label>
          <input type="datetime-local" id="eventStartDate" class="form-control" required [(ngModel)]="event.eventStartDate" name="eventStartDate">
        </div>
        <div class="form-group">
          <label for="eventEndDate">Event End Date</label>
          <input type="datetime-local" id="eventEndDate" class="form-control" required [(ngModel)]="event.eventEndDate" name="eventEndDate">
        </div>
        <div class="form-group">
          <label for="maxParticipants">Max Participants</label>
          <input type="number" id="maxParticipants" class="form-control" required [(ngModel)]="event.maxParticipants" name="maxParticipants">
        </div>
        <div class="form-group">
          <label for="registrationEndDate">Registration End Date</label>
          <input type="datetime-local" id="registrationEndDate" class="form-control" required [(ngModel)]="event.registrationEndDate" name="registrationEndDate">
        </div>

        <!-- Map -->
        <div class="form-group">
          <label for="location">Location</label>
          <input type="text" id="locationSearch" class="form-control mb-2" placeholder="Search for a location" #search>
          <div id="map" class="map-container"></div>
          <input type="hidden" id="location" class="form-control" [(ngModel)]="event.location" name="location">
          <small class="text-muted">Click on the map to select the event location</small>
        </div>

        <!-- Submit -->
        <button type="submit" class="btn update-btn" [disabled]="!eventForm.form.valid || isUploading">
          <span *ngIf="!isUploading">Update Event</span>
          <span *ngIf="isUploading">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Uploading...
          </span>
        </button>
      </form>
    </div>
    
  </div>
  <br>
<div>
<button class="btn update-btn" routerLink="/admin/event" styel="margin-left:200px;">Return</button>
</div>
<br>
</div>

