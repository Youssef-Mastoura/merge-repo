<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-10 col-lg-8">
      <div class="card custom-card shadow-lg border-0 rounded-4">
        <!-- Header -->
        <div
          class="card-header gradient-header text-white text-center rounded-top-4 py-4"
        >
          <h4 class="mb-0">
            <i class="fas fa-pen-fancy me-2"></i>Edit Bank Account
          </h4>
        </div>

        <!-- Form -->
        <div class="card-body p-5" *ngIf="compte">
          <form [formGroup]="comptebancaireForm" (ngSubmit)="update()">
            <div class="row mb-4">
              <div class="col-12">
                <label for="montant" class="form-label fw-semibold">
                  <i class="fas fa-coins me-1"></i> Amount
                </label>
                <input
                  type="number"
                  class="form-control form-control-lg shadow-sm"
                  id="montant"
                  placeholder="Enter amount"
                  formControlName="montant"
                  [class.is-invalid]="
                    comptebancaireForm.get('montant')?.invalid &&
                    comptebancaireForm.get('montant')?.touched
                  "
                />
                <div
                  *ngIf="
                    comptebancaireForm.get('montant')?.invalid &&
                    comptebancaireForm.get('montant')?.touched
                  "
                  class="invalid-feedback"
                >
                  <div
                    *ngIf="comptebancaireForm.get('montant')?.errors?.['required']"
                  >
                    Amount is required
                  </div>
                  <div
                    *ngIf="comptebancaireForm.get('montant')?.errors?.['min']"
                  >
                    Amount must be positive
                  </div>
                </div>
              </div>
            </div>

            <div class="row mb-4">
              <div class="col-12">
                <label for="userId" class="form-label fw-semibold">
                  <i class="fas fa-user me-1"></i> Account Owner
                </label>
                <select
                  class="form-select form-select-lg shadow-sm"
                  id="userId"
                  formControlName="userId"
                  [class.is-invalid]="
                    comptebancaireForm.get('userId')?.invalid &&
                    comptebancaireForm.get('userId')?.touched
                  "
                >
                  <option value="" disabled selected>Select a user</option>
                  <option *ngFor="let user of users" [value]="user.id_User">
                    {{ user.first_Name }} {{ user.last_Name }}
                  </option>
                </select>
                <div
                  *ngIf="
                    comptebancaireForm.get('userId')?.invalid &&
                    comptebancaireForm.get('userId')?.touched
                  "
                  class="invalid-feedback"
                >
                  Please select a user
                </div>
              </div>
            </div>

            <!-- Buttons -->
            <div class="d-flex justify-content-between mt-5">
              <button
                type="button"
                class="btn btn-outline-dark px-4 py-2 rounded-pill shadow-sm"
                (click)="goBack()"
              >
                <i class="fas fa-arrow-left me-2"></i>Back
              </button>
              <button
                type="submit"
                class="btn btn-pink px-4 py-2 rounded-pill shadow-sm"
                [disabled]="comptebancaireForm.invalid"
              >
                <i class="fas fa-check-circle me-2"></i>Save
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
