{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../user.service\";\nimport * as i3 from \"../auth.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction LoginAdminComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction LoginAdminComponent_div_14_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginAdminComponent_div_14_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Please enter a valid email\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginAdminComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, LoginAdminComponent_div_14_span_1_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(2, LoginAdminComponent_div_14_span_2_Template, 2, 0, \"span\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r1.loginForm.get(\"email\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r1.loginForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"email\"]);\n  }\n}\nfunction LoginAdminComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \" Password is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginAdminComponent {\n  constructor(fb, userService, authService, router) {\n    this.fb = fb;\n    this.userService = userService;\n    this.authService = authService;\n    this.router = router;\n    this.errorMessage = '';\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n  }\n  onSubmit() {\n    this.errorMessage = ''; // Réinitialise le message d'erreur\n    if (this.loginForm.invalid) {\n      return; // Pas d'alerte si formulaire invalide (optionnel)\n    }\n\n    const {\n      email,\n      password\n    } = this.loginForm.value;\n    this.userService.login({\n      email,\n      password\n    }).subscribe({\n      next: response => {\n        if (response.token) {\n          // Si le token existe\n          // Vérifie si l'utilisateur est admin\n          if (!this.authService.isAdminUser(response.token)) {\n            alert('Vous n\\'êtes pas autorisé à vous connecter en tant qu\\'administrateur');\n            this.authService.clearAuth();\n            return;\n          }\n          // Stocke le token et affiche un message de bienvenue\n          localStorage.setItem('auth_token', response.token);\n          this.authService.setAuthToken(response.token);\n          const userInfo = this.authService.getUserInfoFromToken(response.token);\n          alert(`Bienvenue ${userInfo?.email || ''} !`);\n          this.router.navigate(['admin/user-admin']);\n        } else {\n          // Si pas de token → identifiants incorrects\n          alert('Identifiants incorrects, veuillez réessayer');\n        }\n      },\n      error: err => {\n        // On affiche UNIQUEMENT \"Identifiants incorrects\" en cas d'erreur\n        alert('Identifiants incorrects, veuillez réessayer');\n      }\n    });\n  }\n  redirecttodashboard() {\n    this.router.navigate(['admin/user-admin']);\n  }\n  handleImageError(event) {\n    const img = event.target;\n    console.error('Image non trouvée:', img.src);\n    img.style.border = '2px solid red';\n  }\n}\nLoginAdminComponent.ɵfac = function LoginAdminComponent_Factory(t) {\n  return new (t || LoginAdminComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.Router));\n};\nLoginAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginAdminComponent,\n  selectors: [[\"app-login-admin\"]],\n  decls: 39,\n  vars: 9,\n  consts: [[1, \"base\", \"fixed\", \"inset-0\", \"flex\", \"items-center\", \"justify-center\", \"p-4\", \"bg-white\"], [1, \"content\", \"rounded-2xl\", \"shadow-xl\", \"overflow-hidden\", \"w-full\", \"max-w-md\"], [1, \"main\", \"p-8\", \"space-y-6\"], [1, \"text-center\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-800\"], [1, \"text-gray-600\", \"mt-2\"], [1, \"space-y-5\", 3, \"formGroup\", \"ngSubmit\"], [\"class\", \"text-red-500 text-sm text-center\", 4, \"ngIf\"], [\"for\", \"email\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"email\", \"formControlName\", \"email\", \"type\", \"email\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"bg-white/70\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\", \"placeholder-gray-500\", \"backdrop-blur-sm\"], [\"class\", \"text-red-500 text-xs mt-1\", 4, \"ngIf\"], [\"for\", \"password\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"password\", \"formControlName\", \"password\", \"type\", \"password\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"bg-white/70\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\", \"placeholder-gray-500\", \"backdrop-blur-sm\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"flex\", \"items-center\"], [\"id\", \"remember\", \"name\", \"remember\", \"type\", \"checkbox\", 1, \"h-4\", \"w-4\", \"text-purple-600\", \"focus:ring-purple-500\", \"border-gray-300\", \"rounded\"], [\"for\", \"remember\", 1, \"ml-2\", \"text-sm\", \"text-gray-700\"], [\"href\", \"#\", 1, \"text-sm\", \"font-medium\", \"text-purple-600\", \"hover:text-purple-500\"], [\"type\", \"submit\", 1, \"w-full\", \"py-3\", \"px-4\", \"bg-purple-600\", \"hover:bg-purple-700\", \"text-white\", \"font-medium\", \"rounded-lg\", \"transition\", \"duration-200\", \"shadow-md\", \"hover:shadow-lg\", \"transform\", \"hover:-translate-y-0.5\", 3, \"disabled\"], [1, \"relative\", \"my-6\"], [1, \"absolute\", \"inset-0\", \"flex\", \"items-center\"], [1, \"w-full\", \"border-t\", \"border-gray-300/50\"], [1, \"relative\", \"flex\", \"justify-center\"], [1, \"px-3\", \"text-sm\", \"text-gray-500\", \"bg-white/30\", \"rounded-full\", \"backdrop-blur-sm\"], [1, \"text-sm\", \"text-center\", \"text-gray-600\"], [\"href\", \"#\", 1, \"font-medium\", \"text-purple-600\", \"hover:text-purple-500\"], [1, \"text-red-500\", \"text-sm\", \"text-center\"], [1, \"text-red-500\", \"text-xs\", \"mt-1\"], [4, \"ngIf\"]],\n  template: function LoginAdminComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\", 4);\n      i0.ɵɵtext(5, \"Welcome Back\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"p\", 5);\n      i0.ɵɵtext(7, \"Sign in to access your dashboard\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginAdminComponent_Template_form_ngSubmit_8_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtemplate(9, LoginAdminComponent_div_9_Template, 2, 1, \"div\", 7);\n      i0.ɵɵelementStart(10, \"div\")(11, \"label\", 8);\n      i0.ɵɵtext(12, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 9);\n      i0.ɵɵtemplate(14, LoginAdminComponent_div_14_Template, 3, 2, \"div\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\")(16, \"label\", 11);\n      i0.ɵɵtext(17, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 12);\n      i0.ɵɵtemplate(19, LoginAdminComponent_div_19_Template, 2, 0, \"div\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 13)(21, \"div\", 14);\n      i0.ɵɵelement(22, \"input\", 15);\n      i0.ɵɵelementStart(23, \"label\", 16);\n      i0.ɵɵtext(24, \"Remember me\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"a\", 17);\n      i0.ɵɵtext(26, \"Forgot password?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"button\", 18);\n      i0.ɵɵtext(28, \" Sign In \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 19)(30, \"div\", 20);\n      i0.ɵɵelement(31, \"div\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 22)(33, \"span\", 23);\n      i0.ɵɵtext(34, \"Or continue with\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"p\", 24);\n      i0.ɵɵtext(36, \" Don't have an account? \");\n      i0.ɵɵelementStart(37, \"a\", 25);\n      i0.ɵɵtext(38, \"Sign up\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"border-red-500\", ((tmp_2_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_2_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_3_0.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"border-red-500\", ((tmp_4_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_4_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_5_0.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid);\n    }\n  },\n  dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\".base[_ngcontent-%COMP%] {\\n    background-image: url('mac.webp');\\n    background-size: cover;\\n    background-position: center;\\n  }\\n  \\n  .base[_ngcontent-%COMP%]:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    height: 100%;\\n    background: linear-gradient(\\n      180deg,\\n      rgba(255, 255, 255, 0.72) 0%,\\n      rgba(255, 255, 255, 0.45) 100%\\n    );\\n    -webkit-backdrop-filter: saturate(3);\\n    backdrop-filter: saturate(3);\\n  }\\n  \\n  .content[_ngcontent-%COMP%] {\\n    background-color: rgb(255 255 255 / 31%);\\n    backdrop-filter: blur(20px);\\n    -webkit-backdrop-filter: blur(20px);\\n    border: 1px solid rgba(255, 255, 255, 0.18);\\n    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);\\n  }\\n  \\n  .main[_ngcontent-%COMP%] {\\n    background-color: rgb(255 255 255 / 31%);\\n  }\\n  \\n  .main[_ngcontent-%COMP%]::-webkit-scrollbar {\\n    width: 6px;\\n    border-radius: 10px;\\n  }\\n  \\n  .main[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\n    background: rgb(1 2 3 / 40%);\\n    border-radius: 10px;\\n  }\\n  \\n  \\n\\n  input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:not(.social-button) {\\n    backdrop-filter: blur(10px);\\n    -webkit-backdrop-filter: blur(10px);\\n    transition: all 0.3s ease;\\n  }\\n  \\n  \\n\\n  button.social-button[_ngcontent-%COMP%]:hover {\\n    transform: translateY(-2px);\\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4tYWRtaW4vbG9naW4tYWRtaW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlDQUFtQztJQUNuQyxzQkFBc0I7SUFDdEIsMkJBQTJCO0VBQzdCOztFQUVBO0lBQ0UsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixPQUFPO0lBQ1AsTUFBTTtJQUNOLFdBQVc7SUFDWCxZQUFZO0lBQ1o7Ozs7S0FJQztJQUNELG9DQUFvQztJQUNwQyw0QkFBNEI7RUFDOUI7O0VBRUE7SUFDRSx3Q0FBd0M7SUFDeEMsMkJBQTJCO0lBQzNCLG1DQUFtQztJQUNuQywyQ0FBMkM7SUFDM0MsZ0RBQWdEO0VBQ2xEOztFQUVBO0lBQ0Usd0NBQXdDO0VBQzFDOztFQUVBO0lBQ0UsVUFBVTtJQUNWLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLDRCQUE0QjtJQUM1QixtQkFBbUI7RUFDckI7O0VBRUEsa0NBQWtDO0VBQ2xDO0lBQ0UsMkJBQTJCO0lBQzNCLG1DQUFtQztJQUNuQyx5QkFBeUI7RUFDM0I7O0VBRUEsNkNBQTZDO0VBQzdDO0lBQ0UsMkJBQTJCO0lBQzNCLHlDQUF5QztFQUMzQyIsInNvdXJjZXNDb250ZW50IjpbIi5iYXNlIHtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4vbWFjLndlYnBcIik7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAuYmFzZTpiZWZvcmUge1xyXG4gICAgY29udGVudDogXCJcIjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB0b3A6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcclxuICAgICAgMTgwZGVnLFxyXG4gICAgICByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzIpIDAlLFxyXG4gICAgICByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNDUpIDEwMCVcclxuICAgICk7XHJcbiAgICAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogc2F0dXJhdGUoMyk7XHJcbiAgICBiYWNrZHJvcC1maWx0ZXI6IHNhdHVyYXRlKDMpO1xyXG4gIH1cclxuICBcclxuICAuY29udGVudCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1IDI1NSAyNTUgLyAzMSUpO1xyXG4gICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDIwcHgpO1xyXG4gICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMjBweCk7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTgpO1xyXG4gICAgYm94LXNoYWRvdzogMCA4cHggMzJweCAwIHJnYmEoMzEsIDM4LCAxMzUsIDAuMTUpO1xyXG4gIH1cclxuICBcclxuICAubWFpbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1IDI1NSAyNTUgLyAzMSUpO1xyXG4gIH1cclxuICBcclxuICAubWFpbjo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgd2lkdGg6IDZweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5tYWluOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2IoMSAyIDMgLyA0MCUpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICB9XHJcbiAgXHJcbiAgLyogRWZmZXQgZGUgdmVycmUgc3VyIGxlcyBpbnB1dHMgKi9cclxuICBpbnB1dCwgYnV0dG9uOm5vdCguc29jaWFsLWJ1dHRvbikge1xyXG4gICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xyXG4gICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xyXG4gIH1cclxuICBcclxuICAvKiBFZmZldCBkZSBzdXJ2b2wgcG91ciBsZXMgYm91dG9ucyBzb2NpYXV4ICovXHJcbiAgYnV0dG9uLnNvY2lhbC1idXR0b246aG92ZXIge1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","errorMessage","ɵɵtemplate","LoginAdminComponent_div_14_span_1_Template","LoginAdminComponent_div_14_span_2_Template","ɵɵproperty","tmp_0_0","ctx_r1","loginForm","get","errors","tmp_1_0","LoginAdminComponent","constructor","fb","userService","authService","router","group","email","required","password","onSubmit","invalid","value","login","subscribe","next","response","token","isAdminUser","alert","clearAuth","localStorage","setItem","setAuthToken","userInfo","getUserInfoFromToken","navigate","error","err","redirecttodashboard","handleImageError","event","img","target","console","src","style","border","ɵɵdirectiveInject","i1","FormBuilder","i2","UserService","i3","AuthService","i4","Router","selectors","decls","vars","consts","template","LoginAdminComponent_Template","rf","ctx","ɵɵlistener","LoginAdminComponent_Template_form_ngSubmit_8_listener","LoginAdminComponent_div_9_Template","ɵɵelement","LoginAdminComponent_div_14_Template","LoginAdminComponent_div_19_Template","ɵɵclassProp","tmp_2_0","touched","tmp_3_0","tmp_4_0","tmp_5_0"],"sources":["C:\\Users\\Sakka\\Desktop\\PICLOUD-GestionUser - Copie\\dashboard-v2\\src\\app\\login-admin\\login-admin.component.ts","C:\\Users\\Sakka\\Desktop\\PICLOUD-GestionUser - Copie\\dashboard-v2\\src\\app\\login-admin\\login-admin.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { UserService } from '../user.service';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-login-admin',\n  templateUrl: './login-admin.component.html',\n  styleUrls: ['./login-admin.component.css']\n})\nexport class LoginAdminComponent {\n  loginForm: FormGroup;\n  errorMessage: String = '';\n\n  constructor(\n    private fb: FormBuilder,\n    private userService: UserService,\n    private authService:AuthService,\n\n    private router: Router\n  ) {\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n\n\n  }\n  onSubmit() {\n    this.errorMessage = ''; // Réinitialise le message d'erreur\n  \n    if (this.loginForm.invalid) {\n      return; // Pas d'alerte si formulaire invalide (optionnel)\n    }\n  \n    const { email, password } = this.loginForm.value;\n    \n    this.userService.login({ email, password }).subscribe({\n      next: (response) => {\n        if (response.token) { // Si le token existe\n          // Vérifie si l'utilisateur est admin\n          if (!this.authService.isAdminUser(response.token)) {\n            alert('Vous n\\'êtes pas autorisé à vous connecter en tant qu\\'administrateur');\n            this.authService.clearAuth();\n            return;\n          }\n  \n          // Stocke le token et affiche un message de bienvenue\n          localStorage.setItem('auth_token', response.token);\n          this.authService.setAuthToken(response.token);\n  \n          const userInfo = this.authService.getUserInfoFromToken(response.token);\n          alert(`Bienvenue ${userInfo?.email || ''} !`);\n  \n          this.router.navigate(['admin/user-admin']);\n        } else {\n          // Si pas de token → identifiants incorrects\n          alert('Identifiants incorrects, veuillez réessayer');\n        }\n      },\n      error: (err) => {\n        // On affiche UNIQUEMENT \"Identifiants incorrects\" en cas d'erreur\n        alert('Identifiants incorrects, veuillez réessayer');\n      }\n    });\n  }\nredirecttodashboard(){\n\n  this.router.navigate(['admin/user-admin']);\n}\n\n  handleImageError(event: Event) {\n    const img = event.target as HTMLImageElement;\n    console.error('Image non trouvée:', img.src);\n    img.style.border = '2px solid red';\n  }\n\n\n}\n","<div class=\"base fixed inset-0 flex items-center justify-center p-4 bg-white\">\n  <div class=\"content rounded-2xl shadow-xl overflow-hidden w-full max-w-md\">\n    <div class=\"main p-8 space-y-6\">\n      <div class=\"text-center\">\n        <h1 class=\"text-3xl font-bold text-gray-800\">Welcome Back</h1>\n        <p class=\"text-gray-600 mt-2\">Sign in to access your dashboard</p>\n      </div>\n\n      <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\" class=\"space-y-5\">\n        <div *ngIf=\"errorMessage\" class=\"text-red-500 text-sm text-center\">\n          {{ errorMessage }}\n        </div>\n        \n        <div>\n          <label for=\"email\" class=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n          <input id=\"email\" formControlName=\"email\" type=\"email\" required\n                 class=\"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-500 backdrop-blur-sm\"\n                 [class.border-red-500]=\"loginForm.get('email')?.invalid && loginForm.get('email')?.touched\">\n          <div *ngIf=\"loginForm.get('email')?.invalid && loginForm.get('email')?.touched\" class=\"text-red-500 text-xs mt-1\">\n            <span *ngIf=\"loginForm.get('email')?.errors?.['required']\">Email is required</span>\n            <span *ngIf=\"loginForm.get('email')?.errors?.['email']\">Please enter a valid email</span>\n          </div>\n        </div>\n\n        <div>\n          <label for=\"password\" class=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\n          <input id=\"password\" formControlName=\"password\" type=\"password\" required\n                 class=\"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-500 backdrop-blur-sm\"\n                 [class.border-red-500]=\"loginForm.get('password')?.invalid && loginForm.get('password')?.touched\">\n          <div *ngIf=\"loginForm.get('password')?.invalid && loginForm.get('password')?.touched\" class=\"text-red-500 text-xs mt-1\">\n            Password is required\n          </div>\n        </div>\n\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center\">\n            <input id=\"remember\" name=\"remember\" type=\"checkbox\"\n                   class=\"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded\">\n            <label for=\"remember\" class=\"ml-2 text-sm text-gray-700\">Remember me</label>\n          </div>\n\n          <a href=\"#\" class=\"text-sm font-medium text-purple-600 hover:text-purple-500\">Forgot password?</a>\n        </div>\n\n        <button type=\"submit\"\n                class=\"w-full py-3 px-4 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5\"\n                [disabled]=\"loginForm.invalid\" >\n          Sign In\n        </button>\n      </form>\n\n      <div class=\"relative my-6\">\n        <div class=\"absolute inset-0 flex items-center\">\n          <div class=\"w-full border-t border-gray-300/50\"></div>\n        </div>\n        <div class=\"relative flex justify-center\">\n          <span class=\"px-3 text-sm text-gray-500 bg-white/30 rounded-full backdrop-blur-sm\">Or continue with</span>\n        </div>\n      </div>\n\n      <p class=\"text-sm text-center text-gray-600\">\n        Don't have an account? \n        <a href=\"#\" class=\"font-medium text-purple-600 hover:text-purple-500\">Sign up</a>\n      </p>\n    </div>\n  </div>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}