{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/course.service\";\nimport * as i4 from \"src/app/services/content.service\";\nimport * as i5 from \"@angular/platform-browser\";\nconst _c0 = [\"videoPlayer\"];\nconst _c1 = [\"pdfFileInput\"];\nfunction CourseContentEtudiantComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelement(1, \"i\", 19);\n    i0.ɵɵtext(2, \" No content has been added to this course yet. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseContentEtudiantComponent_div_20_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const content_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", content_r3.description_Content.length > 120 ? i0.ɵɵpipeBind3(2, 1, content_r3.description_Content, 0, 120) + \"...\" : content_r3.description_Content, \" \");\n  }\n}\nfunction CourseContentEtudiantComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵlistener(\"click\", function CourseContentEtudiantComponent_div_20_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const content_r3 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.showContent(content_r3));\n    });\n    i0.ɵɵelementStart(1, \"div\", 29)(2, \"span\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h3\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 31);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, CourseContentEtudiantComponent_div_20_p_8_Template, 3, 5, \"p\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const content_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    i0.ɵɵclassProp(\"even-item\", i_r4 % 2 === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"#\", content_r3.orderIndex_Content, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(content_r3.title_Content);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(\"type-\" + content_r3.type_Content.toLowerCase());\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", content_r3.type_Content, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", content_r3.description_Content);\n  }\n}\nfunction CourseContentEtudiantComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵlistener(\"click\", function CourseContentEtudiantComponent_div_46_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.closeContentModal());\n    });\n    i0.ɵɵelementStart(1, \"div\", 35);\n    i0.ɵɵlistener(\"click\", function CourseContentEtudiantComponent_div_46_Template_div_click_1_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementStart(2, \"div\", 36)(3, \"div\", 37);\n    i0.ɵɵelement(4, \"i\", 38);\n    i0.ɵɵelementStart(5, \"h2\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function CourseContentEtudiantComponent_div_46_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.closeContentModal());\n    });\n    i0.ɵɵelement(8, \"i\", 40);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(9, \"div\", 41);\n    i0.ɵɵelementStart(10, \"div\", 42)(11, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function CourseContentEtudiantComponent_div_46_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.closeContentModal());\n    });\n    i0.ɵɵelement(12, \"i\", 44);\n    i0.ɵɵtext(13, \" Close \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"bi-film\", ctx_r2.contentType === \"VIDEO\")(\"bi-file-earmark-pdf\", ctx_r2.contentType === \"PDF\")(\"bi-question-circle\", ctx_r2.contentType === \"QUIZ\")(\"bi-file-text\", ctx_r2.contentType === \"TEXT\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.selectedContent == null ? null : ctx_r2.selectedContent.title_Content);\n  }\n}\nexport class CourseContentEtudiantComponent {\n  constructor(fb, route, router, courseService, contentService, sanitizer, cdr) {\n    this.fb = fb;\n    this.route = route;\n    this.router = router;\n    this.courseService = courseService;\n    this.contentService = contentService;\n    this.sanitizer = sanitizer;\n    this.cdr = cdr;\n    // Données du cours\n    this.course = null;\n    this.contents = [];\n    this.editingContentId = null;\n    this.contentTypes = ['VIDEO', 'PDF', 'QUIZ', 'TEXT'];\n    this.isSubmitting = false;\n    // Gestion des fichiers\n    this.selectedFile = null;\n    this.selectedFileError = null;\n    // Affichage du contenu\n    this.selectedContent = null;\n    this.contentType = '';\n    this.safeVideoUrl = null;\n    this.pdfUrl = '';\n    this.textContent = '';\n    this.isContentModalOpen = false;\n    // États de chargement\n    this.isLoading = true;\n    this.errorMessage = null;\n  }\n  ngOnInit() {\n    this.initForm();\n    this.loadCourseData();\n  }\n  initForm() {\n    this.contentForm = this.fb.group({\n      title: ['', [Validators.required, Validators.maxLength(100)]],\n      type: ['', Validators.required],\n      url: [''],\n      description: [''],\n      orderIndex: [0, [Validators.required, Validators.min(0)]],\n      duration: [0, [Validators.min(0)]],\n      quizTitle: [''],\n      questions: this.fb.array([])\n    });\n    this.contentForm.get('type')?.valueChanges.subscribe(() => this.onTypeChange());\n  }\n  loadCourseData() {\n    this.route.params.pipe(switchMap(params => {\n      this.courseId = +params['id'];\n      this.isLoading = true;\n      this.errorMessage = null;\n      return this.courseService.getCourseById(this.courseId);\n    }), switchMap(course => {\n      if (!course) {\n        throw new Error('Course not found');\n      }\n      this.course = course;\n      return this.contentService.getContentsByCourseId(this.courseId);\n    })).subscribe({\n      next: contents => {\n        this.contents = this.sortContents(contents);\n        this.isLoading = false;\n        this.cdr.detectChanges();\n      },\n      error: err => {\n        console.error('Error loading course data:', err);\n        this.errorMessage = 'Failed to load course data. Please try again later.';\n        this.isLoading = false;\n        this.cdr.detectChanges();\n      }\n    });\n  }\n  sortContents(contents) {\n    return [...contents].sort((a, b) => (a.orderIndex_Content || 0) - (b.orderIndex_Content || 0));\n  }\n  get questions() {\n    return this.contentForm.get('questions');\n  }\n  getQuestionOptions(questionIndex) {\n    return this.questions.at(questionIndex).get('options');\n  }\n  onTypeChange() {\n    const type = this.contentForm.get('type')?.value;\n    if (type !== 'QUIZ') {\n      this.contentForm.setControl('questions', this.fb.array([]));\n    }\n    if (type !== 'PDF') {\n      this.selectedFile = null;\n      this.selectedFileError = null;\n    }\n    if (type !== 'VIDEO') {\n      this.contentForm.get('url')?.reset();\n    }\n    if (type !== 'TEXT') {\n      this.contentForm.get('description')?.reset();\n    }\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    this.selectedFileError = null;\n    if (!file) return;\n    if (file.type !== 'application/pdf') {\n      this.selectedFileError = 'Please select a valid PDF file';\n      this.resetFileInput();\n      return;\n    }\n    if (file.size > 5 * 1024 * 1024) {\n      this.selectedFileError = 'File size exceeds 5MB limit';\n      this.resetFileInput();\n      return;\n    }\n    this.selectedFile = file;\n    const reader = new FileReader();\n    reader.onload = e => {\n      this.pdfUrl = e.target.result;\n      this.contentForm.patchValue({\n        url: e.target.result\n      });\n      this.cdr.detectChanges();\n    };\n    reader.readAsDataURL(file);\n  }\n  resetFileInput() {\n    this.selectedFile = null;\n    if (this.pdfFileInput?.nativeElement) {\n      this.pdfFileInput.nativeElement.value = '';\n    }\n  }\n  addQuestion() {\n    this.questions.push(this.fb.group({\n      text: ['', Validators.required],\n      options: this.fb.array([this.fb.control('', Validators.required)]),\n      correctAnswer: [0, Validators.required]\n    }));\n  }\n  removeQuestion(index) {\n    this.questions.removeAt(index);\n  }\n  addOption(questionIndex) {\n    this.getQuestionOptions(questionIndex).push(this.fb.control('', Validators.required));\n  }\n  removeOption(questionIndex, optionIndex) {\n    this.getQuestionOptions(questionIndex).removeAt(optionIndex);\n  }\n  showContent(content) {\n    if (!content) return;\n    this.selectedContent = content;\n    this.contentType = content.type_Content;\n    this.isContentModalOpen = true;\n    switch (content.type_Content) {\n      case 'VIDEO':\n        this.handleVideoContent(content.url_Content || '');\n        break;\n      case 'PDF':\n        this.pdfUrl = content.url_Content || '';\n        break;\n      case 'QUIZ':\n        this.parseQuizContent(content.description_Content);\n        break;\n      case 'TEXT':\n        this.textContent = content.description_Content || '';\n        break;\n    }\n    this.cdr.detectChanges();\n  }\n  handleVideoContent(url) {\n    if (!url) {\n      this.safeVideoUrl = null;\n      return;\n    }\n    if (this.isYouTubeUrl(url)) {\n      const videoId = this.getYouTubeId(url);\n      const embedUrl = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1`;\n      this.safeVideoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(embedUrl);\n    } else {\n      this.safeVideoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(url);\n    }\n  }\n  parseQuizContent(description) {\n    try {\n      this.quizData = description ? JSON.parse(description) : {\n        title: 'Quiz',\n        questions: []\n      };\n    } catch {\n      this.quizData = {\n        title: 'Quiz',\n        questions: []\n      };\n    }\n  }\n  isYouTubeUrl(url) {\n    return url?.includes('youtube.com') || url?.includes('youtu.be');\n  }\n  getYouTubeId(url) {\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n    const match = url.match(regExp);\n    return match && match[2].length === 11 ? match[2] : '';\n  }\n  getSafePdfUrl(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n  getSafeHtml(content) {\n    return this.sanitizer.bypassSecurityTrustHtml(content);\n  }\n  getCharFromCode(code) {\n    return String.fromCharCode(code);\n  }\n  closeContentModal() {\n    this.isContentModalOpen = false;\n    this.selectedContent = null;\n    this.safeVideoUrl = null;\n    this.pdfUrl = '';\n    this.quizData = null;\n    this.textContent = '';\n  }\n  onSubmit() {\n    if (this.contentForm.invalid || this.isSubmitting) return;\n    this.isSubmitting = true;\n    const formValue = this.contentForm.value;\n    const contentData = {\n      title_Content: formValue.title,\n      type_Content: formValue.type,\n      orderIndex_Content: formValue.orderIndex,\n      duration_Content: formValue.duration,\n      courseId: this.courseId\n    };\n    this.prepareContentData(contentData, formValue);\n    const save$ = this.editingContentId ? this.contentService.updateContent({\n      ...contentData,\n      id_Content: this.editingContentId\n    }) : this.contentService.addContent(contentData, this.courseId);\n    save$.subscribe({\n      next: () => {\n        this.isSubmitting = false;\n        this.resetForm();\n        this.handleSaveSuccess();\n      },\n      error: err => {\n        this.handleSaveError(err);\n      }\n    });\n  }\n  prepareContentData(contentData, formValue) {\n    switch (formValue.type) {\n      case 'QUIZ':\n        contentData.description_Content = JSON.stringify({\n          title: formValue.quizTitle,\n          questions: formValue.questions\n        });\n        break;\n      case 'TEXT':\n        contentData.description_Content = formValue.description;\n        break;\n      case 'VIDEO':\n        contentData.url_Content = formValue.url;\n        break;\n      case 'PDF':\n        contentData.url_Content = formValue.url;\n        break;\n    }\n  }\n  handleSaveSuccess() {\n    this.isSubmitting = false;\n    this.resetForm();\n    this.loadCourseData();\n  }\n  handleSaveError(error) {\n    console.error('Error saving content:', error);\n    this.isSubmitting = false;\n    this.errorMessage = 'Failed to save content. Please try again.';\n    this.cdr.detectChanges();\n  }\n  onEditContent(content, event) {\n    event.stopPropagation();\n    this.editingContentId = content.id_Content || null;\n    this.contentForm.reset({\n      orderIndex: 0,\n      duration: 0\n    });\n    this.prepareEditForm(content);\n  }\n  prepareEditForm(content) {\n    const formData = {\n      title: content.title_Content,\n      type: content.type_Content,\n      orderIndex: content.orderIndex_Content || 0,\n      duration: content.duration_Content || 0\n    };\n    if (content.type_Content === 'QUIZ') {\n      this.prepareQuizForm(content, formData);\n    } else {\n      formData.description = content.description_Content || '';\n      formData.url = content.url_Content || '';\n    }\n    this.contentForm.patchValue(formData);\n  }\n  prepareQuizForm(content, formData) {\n    try {\n      const quizData = content.description_Content ? JSON.parse(content.description_Content) : {\n        title: '',\n        questions: []\n      };\n      formData.quizTitle = quizData.title;\n      const questionsArray = this.fb.array(quizData.questions?.map(q => this.fb.group({\n        text: [q.text, Validators.required],\n        options: this.fb.array(q.options?.map(opt => this.fb.control(opt, Validators.required)) || []),\n        correctAnswer: [q.correctAnswer ?? 0, Validators.required]\n      })) || []);\n      this.contentForm.setControl('questions', questionsArray);\n    } catch (e) {\n      console.error('Error parsing quiz data:', e);\n    }\n  }\n  onDeleteContent(id, event) {\n    if (!id) return;\n    event.stopPropagation();\n    if (confirm('Are you sure you want to delete this content?')) {\n      this.contentService.deleteContent(id).subscribe({\n        next: () => {\n          this.loadCourseData();\n        },\n        error: err => {\n          console.error('Delete error:', err);\n          this.errorMessage = 'Failed to delete content. Please try again.';\n          this.cdr.detectChanges();\n        }\n      });\n    }\n  }\n  resetForm() {\n    this.contentForm.reset({\n      orderIndex: 0,\n      duration: 0\n    });\n    this.contentForm.setControl('questions', this.fb.array([]));\n    this.selectedFile = null;\n    this.editingContentId = null;\n    this.selectedFileError = null;\n    this.resetFileInput();\n  }\n  onCancel() {\n    this.resetForm();\n  }\n}\nCourseContentEtudiantComponent.ɵfac = function CourseContentEtudiantComponent_Factory(t) {\n  return new (t || CourseContentEtudiantComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CourseService), i0.ɵɵdirectiveInject(i4.ContentService), i0.ɵɵdirectiveInject(i5.DomSanitizer), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\nCourseContentEtudiantComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CourseContentEtudiantComponent,\n  selectors: [[\"app-course-content-etudiant\"]],\n  viewQuery: function CourseContentEtudiantComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.videoPlayer = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pdfFileInput = _t.first);\n    }\n  },\n  decls: 47,\n  vars: 12,\n  consts: [[1, \"container\", \"course-dashboard\"], [1, \"course-header\"], [1, \"course-title\"], [1, \"bi\", \"bi-journal-bookmark-fill\"], [\"routerLink\", \"/student/courses\", 1, \"mauve-gradient-btn\"], [1, \"bi\", \"bi-arrow-left\"], [1, \"course-layout\"], [1, \"content-main\"], [1, \"content-card\"], [1, \"card-header\"], [1, \"bi\", \"bi-list-task\"], [1, \"content-badge\"], [1, \"card-body\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [1, \"content-items\"], [\"class\", \"content-item\", 3, \"even-item\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"course-sidebar\"], [1, \"info-card\"], [1, \"info-header\"], [1, \"bi\", \"bi-info-circle\"], [1, \"info-body\"], [1, \"info-section\"], [1, \"stats-container\"], [1, \"stat-item\"], [1, \"bi\", \"bi-file-text\"], [1, \"bi\", \"bi-calendar-check\"], [\"class\", \"modal-overlay\", 3, \"click\", 4, \"ngIf\"], [1, \"empty-state\"], [1, \"content-item\", 3, \"click\"], [1, \"item-header\"], [1, \"order-badge\"], [1, \"type-label\"], [\"class\", \"item-description\", 4, \"ngIf\"], [1, \"item-description\"], [1, \"modal-overlay\", 3, \"click\"], [1, \"modal-container\", 3, \"click\"], [1, \"modal-header\"], [1, \"modal-title\"], [1, \"bi\"], [1, \"modal-close\", 3, \"click\"], [1, \"bi\", \"bi-x-lg\"], [1, \"modal-content\"], [1, \"modal-footer\"], [1, \"mauve-gradient-btn\", 3, \"click\"], [1, \"bi\", \"bi-check-lg\"]],\n  template: function CourseContentEtudiantComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵelement(3, \"i\", 3);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 4);\n      i0.ɵɵelement(6, \"i\", 5);\n      i0.ɵɵtext(7, \" Back to Courses \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"div\", 9)(12, \"h2\");\n      i0.ɵɵelement(13, \"i\", 10);\n      i0.ɵɵtext(14, \" Content List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"span\", 11);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 12);\n      i0.ɵɵtemplate(18, CourseContentEtudiantComponent_div_18_Template, 3, 0, \"div\", 13);\n      i0.ɵɵelementStart(19, \"div\", 14);\n      i0.ɵɵtemplate(20, CourseContentEtudiantComponent_div_20_Template, 9, 8, \"div\", 15);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(21, \"div\", 16)(22, \"div\", 17)(23, \"div\", 18)(24, \"h2\");\n      i0.ɵɵelement(25, \"i\", 19);\n      i0.ɵɵtext(26, \" Course Details\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 20)(28, \"div\", 21)(29, \"h3\");\n      i0.ɵɵtext(30, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"p\");\n      i0.ɵɵtext(32);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"div\", 21)(34, \"h3\");\n      i0.ɵɵtext(35, \"Statistics\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 22)(37, \"div\", 23);\n      i0.ɵɵelement(38, \"i\", 24);\n      i0.ɵɵelementStart(39, \"span\");\n      i0.ɵɵtext(40);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"div\", 23);\n      i0.ɵɵelement(42, \"i\", 25);\n      i0.ɵɵelementStart(43, \"span\");\n      i0.ɵɵtext(44);\n      i0.ɵɵpipe(45, \"date\");\n      i0.ɵɵelementEnd()()()()()()()()();\n      i0.ɵɵtemplate(46, CourseContentEtudiantComponent_div_46_Template, 14, 9, \"div\", 26);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" Course Content: \", ctx.course == null ? null : ctx.course.title_Course, \" \");\n      i0.ɵɵadvance(12);\n      i0.ɵɵtextInterpolate2(\"\", ctx.contents.length, \" item\", ctx.contents.length !== 1 ? \"s\" : \"\", \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.contents.length === 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.contents);\n      i0.ɵɵadvance(12);\n      i0.ɵɵtextInterpolate((ctx.course == null ? null : ctx.course.description_Course) || \"No description available\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\"Contents: \", ctx.contents.length, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Last Updated: \", i0.ɵɵpipeBind2(45, 9, ctx.course == null ? null : ctx.course.createdAt_Course, \"mediumDate\"), \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isContentModalOpen);\n    }\n  },\n  styles: [\"\\n\\n.course-dashboard[_ngcontent-%COMP%] {\\n    background: linear-gradient(120deg, #e090c39d, #c5ecf2);\\n    min-height: 200vh;\\n    padding: 2rem;\\n    font-family: 'League Spartan', sans-serif;\\n    color: #4a3b67;\\n  }\\n  \\n  \\n\\n  .course-header[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    background: white;\\n    padding: 1.5rem 2rem;\\n    border-radius: 1.5rem;\\n    box-shadow: 0 8px 20px rgba(70, 5, 60, 0.1);\\n    margin-bottom: 2rem;\\n  }\\n  \\n  .course-title[_ngcontent-%COMP%] {\\n    font-size: 2.2rem;\\n    display: flex;\\n    align-items: center;\\n    gap: 0.75rem;\\n    color: linear-gradient( #370134, #fbc2eb);\\n  }\\n  \\n  \\n\\n  .mauve-gradient-btn[_ngcontent-%COMP%] {\\n    background: linear-gradient(to right, #370134, #fbc2eb);\\n    color: white;\\n    border: none;\\n    padding: 0.75rem 1.5rem;\\n    font-weight: bold;\\n    border-radius: 2rem;\\n    transition: all 0.3s ease-in-out;\\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);\\n  }\\n  \\n  .mauve-gradient-btn[_ngcontent-%COMP%]:hover {\\n    transform: scale(1.05);\\n    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);\\n  }\\n  \\n  \\n\\n  .course-layout[_ngcontent-%COMP%] {\\n    display: flex;\\n    gap: 2rem;\\n  }\\n  \\n  \\n\\n  .content-card[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%] {\\n    background: white;\\n    border-radius: 1.5rem;\\n    padding: 2rem;\\n    box-shadow: 0 6px 15px rgba(0,0,0,0.1);\\n  }\\n  \\n  \\n\\n  .course-sidebar[_ngcontent-%COMP%] {\\n    flex: 1;\\n  }\\n  \\n  .content-main[_ngcontent-%COMP%] {\\n    flex: 2.5;\\n  }\\n  \\n  \\n\\n  .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .info-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    font-size: 1.6rem;\\n    color:linear-gradient(to right, #370134, #fbc2eb);\\n    margin-bottom: 1rem;\\n  }\\n  \\n  .content-badge[_ngcontent-%COMP%] {\\n    background-color: #e0c3fc;\\n    color: #5b2c8c;\\n    padding: 0.3rem 0.8rem;\\n    border-radius: 1rem;\\n    font-weight: 600;\\n  }\\n  \\n  \\n\\n  .content-item[_ngcontent-%COMP%] {\\n    border: 1px solid #e8d7ff;\\n    border-left: 5px solid #25033a;\\n    border-radius: 1rem;\\n    padding: 1rem 1.5rem;\\n    margin-bottom: 1rem;\\n    background: #faf8ff;\\n    transition: background 0.3s;\\n    cursor: pointer;\\n  }\\n  \\n  .content-item[_ngcontent-%COMP%]:hover {\\n    background: #f1e6ff;\\n  }\\n  \\n  .order-badge[_ngcontent-%COMP%] {\\n    background-color: #feb3ff;\\n    color: white;\\n    padding: 0.3rem 0.8rem;\\n    border-radius: 1rem;\\n    font-weight: 600;\\n    margin-right: 1rem;\\n  }\\n  \\n  .type-label[_ngcontent-%COMP%] {\\n    font-size: 0.9rem;\\n    padding: 0.2rem 0.7rem;\\n    border-radius: 1rem;\\n    background-color: #e6d6ff;\\n    color: #8a0d49;\\n    margin-left: auto;\\n  }\\n  \\n  \\n\\n  .modal-overlay[_ngcontent-%COMP%] {\\n    background-color: rgba(0, 0, 0, 0.6);\\n    -webkit-backdrop-filter: blur(3px);\\n            backdrop-filter: blur(3px);\\n  }\\n  \\n  .modal-container[_ngcontent-%COMP%] {\\n    background: white;\\n    border-radius: 1.5rem;\\n    padding: 2rem;\\n    max-width: 800px;\\n    margin: auto;\\n    box-shadow: 0 10px 30px rgba(0,0,0,0.25);\\n    animation: _ngcontent-%COMP%_slideIn 0.4s ease;\\n  }\\n  \\n  @keyframes _ngcontent-%COMP%_slideIn {\\n    from { transform: translateY(-50px); opacity: 0; }\\n    to { transform: translateY(0); opacity: 1; }\\n  }\\n  \\n  \\n\\n  @media (max-width: 768px) {\\n    .course-layout[_ngcontent-%COMP%] {\\n      flex-direction: column;\\n    }\\n  }\\n  \\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZnJvbnQtb2ZmaWNlL2NvdXJzZXMvY291cnNlLWNvbnRlbnQtZXR1ZGlhbnQvY291cnNlLWNvbnRlbnQtZXR1ZGlhbnQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx5QkFBeUI7QUFDekI7SUFDSSx1REFBdUQ7SUFDdkQsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYix5Q0FBeUM7SUFDekMsY0FBYztFQUNoQjs7RUFFQSxvQkFBb0I7RUFDcEI7SUFDRSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLHFCQUFxQjtJQUNyQiwyQ0FBMkM7SUFDM0MsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLHlDQUF5QztFQUMzQzs7RUFFQSx1QkFBdUI7RUFDdkI7SUFDRSx1REFBdUQ7SUFDdkQsWUFBWTtJQUNaLFlBQVk7SUFDWix1QkFBdUI7SUFDdkIsaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQixnQ0FBZ0M7SUFDaEMsMENBQTBDO0VBQzVDOztFQUVBO0lBQ0Usc0JBQXNCO0lBQ3RCLHlDQUF5QztFQUMzQzs7RUFFQSxXQUFXO0VBQ1g7SUFDRSxhQUFhO0lBQ2IsU0FBUztFQUNYOztFQUVBLHFCQUFxQjtFQUNyQjtJQUNFLGlCQUFpQjtJQUNqQixxQkFBcUI7SUFDckIsYUFBYTtJQUNiLHNDQUFzQztFQUN4Qzs7RUFFQSxZQUFZO0VBQ1o7SUFDRSxPQUFPO0VBQ1Q7O0VBRUE7SUFDRSxTQUFTO0VBQ1g7O0VBRUEsWUFBWTtFQUNaO0lBQ0UsaUJBQWlCO0lBQ2pCLGlEQUFpRDtJQUNqRCxtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsY0FBYztJQUNkLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsZ0JBQWdCO0VBQ2xCOztFQUVBLFVBQVU7RUFDVjtJQUNFLHlCQUF5QjtJQUN6Qiw4QkFBOEI7SUFDOUIsbUJBQW1CO0lBQ25CLG9CQUFvQjtJQUNwQixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLDJCQUEyQjtJQUMzQixlQUFlO0VBQ2pCOztFQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQixrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQix5QkFBeUI7SUFDekIsY0FBYztJQUNkLGlCQUFpQjtFQUNuQjs7RUFFQSxVQUFVO0VBQ1Y7SUFDRSxvQ0FBb0M7SUFDcEMsa0NBQTBCO1lBQTFCLDBCQUEwQjtFQUM1Qjs7RUFFQTtJQUNFLGlCQUFpQjtJQUNqQixxQkFBcUI7SUFDckIsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osd0NBQXdDO0lBQ3hDLDRCQUE0QjtFQUM5Qjs7RUFFQTtJQUNFLE9BQU8sNEJBQTRCLEVBQUUsVUFBVSxFQUFFO0lBQ2pELEtBQUssd0JBQXdCLEVBQUUsVUFBVSxFQUFFO0VBQzdDOztFQUVBLGVBQWU7RUFDZjtJQUNFO01BQ0Usc0JBQXNCO0lBQ3hCO0VBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBBcnJpw4PCqHJlLXBsYW4gZ8ODwqluw4PCqXJhbCAqL1xyXG4uY291cnNlLWRhc2hib2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTIwZGVnLCAjZTA5MGMzOWQsICNjNWVjZjIpO1xyXG4gICAgbWluLWhlaWdodDogMjAwdmg7XHJcbiAgICBwYWRkaW5nOiAycmVtO1xyXG4gICAgZm9udC1mYW1pbHk6ICdMZWFndWUgU3BhcnRhbicsIHNhbnMtc2VyaWY7XHJcbiAgICBjb2xvcjogIzRhM2I2NztcclxuICB9XHJcbiAgXHJcbiAgLyogVGl0cmUgcHJpbmNpcGFsICovXHJcbiAgLmNvdXJzZS1oZWFkZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDEuNXJlbSAycmVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMS41cmVtO1xyXG4gICAgYm94LXNoYWRvdzogMCA4cHggMjBweCByZ2JhKDcwLCA1LCA2MCwgMC4xKTtcclxuICAgIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbiAgfVxyXG4gIFxyXG4gIC5jb3Vyc2UtdGl0bGUge1xyXG4gICAgZm9udC1zaXplOiAyLjJyZW07XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGdhcDogMC43NXJlbTtcclxuICAgIGNvbG9yOiBsaW5lYXItZ3JhZGllbnQoICMzNzAxMzQsICNmYmMyZWIpO1xyXG4gIH1cclxuICBcclxuICAvKiBCb3V0b24gbWF1dmUgc3R5bMODwqkgKi9cclxuICAubWF1dmUtZ3JhZGllbnQtYnRuIHtcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzM3MDEzNCwgI2ZiYzJlYik7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiAwLjc1cmVtIDEuNXJlbTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnJlbTtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2UtaW4tb3V0O1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xyXG4gIH1cclxuICBcclxuICAubWF1dmUtZ3JhZGllbnQtYnRuOmhvdmVyIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XHJcbiAgICBib3gtc2hhZG93OiAwIDZweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxuICB9XHJcbiAgXHJcbiAgLyogTGF5b3V0ICovXHJcbiAgLmNvdXJzZS1sYXlvdXQge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMnJlbTtcclxuICB9XHJcbiAgXHJcbiAgLyogQ2FydGUgcHJpbmNpcGFsZSAqL1xyXG4gIC5jb250ZW50LWNhcmQsIC5pbmZvLWNhcmQge1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxLjVyZW07XHJcbiAgICBwYWRkaW5nOiAycmVtO1xyXG4gICAgYm94LXNoYWRvdzogMCA2cHggMTVweCByZ2JhKDAsMCwwLDAuMSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIFNpZGViYXIgKi9cclxuICAuY291cnNlLXNpZGViYXIge1xyXG4gICAgZmxleDogMTtcclxuICB9XHJcbiAgXHJcbiAgLmNvbnRlbnQtbWFpbiB7XHJcbiAgICBmbGV4OiAyLjU7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIEhlYWRlcnMgKi9cclxuICAuY2FyZC1oZWFkZXIgaDIsIC5pbmZvLWhlYWRlciBoMiB7XHJcbiAgICBmb250LXNpemU6IDEuNnJlbTtcclxuICAgIGNvbG9yOmxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzM3MDEzNCwgI2ZiYzJlYik7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gIH1cclxuICBcclxuICAuY29udGVudC1iYWRnZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBjM2ZjO1xyXG4gICAgY29sb3I6ICM1YjJjOGM7XHJcbiAgICBwYWRkaW5nOiAwLjNyZW0gMC44cmVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXJlbTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIEl0ZW1zICovXHJcbiAgLmNvbnRlbnQtaXRlbSB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZThkN2ZmO1xyXG4gICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjMjUwMzNhO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXJlbTtcclxuICAgIHBhZGRpbmc6IDFyZW0gMS41cmVtO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICAgIGJhY2tncm91bmQ6ICNmYWY4ZmY7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuM3M7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5jb250ZW50LWl0ZW06aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogI2YxZTZmZjtcclxuICB9XHJcbiAgXHJcbiAgLm9yZGVyLWJhZGdlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZWIzZmY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAwLjNyZW0gMC44cmVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXJlbTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDFyZW07XHJcbiAgfVxyXG4gIFxyXG4gIC50eXBlLWxhYmVsIHtcclxuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xyXG4gICAgcGFkZGluZzogMC4ycmVtIDAuN3JlbTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZkNmZmO1xyXG4gICAgY29sb3I6ICM4YTBkNDk7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICB9XHJcbiAgXHJcbiAgLyogTW9kYWwgKi9cclxuICAubW9kYWwtb3ZlcmxheSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7XHJcbiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoM3B4KTtcclxuICB9XHJcbiAgXHJcbiAgLm1vZGFsLWNvbnRhaW5lciB7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEuNXJlbTtcclxuICAgIHBhZGRpbmc6IDJyZW07XHJcbiAgICBtYXgtd2lkdGg6IDgwMHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgYm94LXNoYWRvdzogMCAxMHB4IDMwcHggcmdiYSgwLDAsMCwwLjI1KTtcclxuICAgIGFuaW1hdGlvbjogc2xpZGVJbiAwLjRzIGVhc2U7XHJcbiAgfVxyXG4gIFxyXG4gIEBrZXlmcmFtZXMgc2xpZGVJbiB7XHJcbiAgICBmcm9tIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MHB4KTsgb3BhY2l0eTogMDsgfVxyXG4gICAgdG8geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IG9wYWNpdHk6IDE7IH1cclxuICB9XHJcbiAgXHJcbiAgLyogUmVzcG9uc2l2ZSAqL1xyXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gICAgLmNvdXJzZS1sYXlvdXQge1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Validators","switchMap","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","content_r3","description_Content","length","ɵɵpipeBind3","ɵɵlistener","CourseContentEtudiantComponent_div_20_Template_div_click_0_listener","restoredCtx","ɵɵrestoreView","_r8","$implicit","ctx_r7","ɵɵnextContext","ɵɵresetView","showContent","ɵɵtemplate","CourseContentEtudiantComponent_div_20_p_8_Template","ɵɵclassProp","i_r4","orderIndex_Content","ɵɵtextInterpolate","title_Content","ɵɵclassMap","type_Content","toLowerCase","ɵɵproperty","CourseContentEtudiantComponent_div_46_Template_div_click_0_listener","_r10","ctx_r9","closeContentModal","CourseContentEtudiantComponent_div_46_Template_div_click_1_listener","$event","stopPropagation","CourseContentEtudiantComponent_div_46_Template_button_click_7_listener","ctx_r12","CourseContentEtudiantComponent_div_46_Template_button_click_11_listener","ctx_r13","ctx_r2","contentType","selectedContent","CourseContentEtudiantComponent","constructor","fb","route","router","courseService","contentService","sanitizer","cdr","course","contents","editingContentId","contentTypes","isSubmitting","selectedFile","selectedFileError","safeVideoUrl","pdfUrl","textContent","isContentModalOpen","isLoading","errorMessage","ngOnInit","initForm","loadCourseData","contentForm","group","title","required","maxLength","type","url","description","orderIndex","min","duration","quizTitle","questions","array","get","valueChanges","subscribe","onTypeChange","params","pipe","courseId","getCourseById","Error","getContentsByCourseId","next","sortContents","detectChanges","error","err","console","sort","a","b","getQuestionOptions","questionIndex","at","value","setControl","reset","onFileSelected","event","file","target","files","resetFileInput","size","reader","FileReader","onload","e","result","patchValue","readAsDataURL","pdfFileInput","nativeElement","addQuestion","push","text","options","control","correctAnswer","removeQuestion","index","removeAt","addOption","removeOption","optionIndex","content","handleVideoContent","url_Content","parseQuizContent","isYouTubeUrl","videoId","getYouTubeId","embedUrl","bypassSecurityTrustResourceUrl","quizData","JSON","parse","includes","regExp","match","getSafePdfUrl","getSafeHtml","bypassSecurityTrustHtml","getCharFromCode","code","String","fromCharCode","onSubmit","invalid","formValue","contentData","duration_Content","prepareContentData","save$","updateContent","id_Content","addContent","resetForm","handleSaveSuccess","handleSaveError","stringify","onEditContent","prepareEditForm","formData","prepareQuizForm","questionsArray","map","q","opt","onDeleteContent","id","confirm","deleteContent","onCancel","ɵɵdirectiveInject","i1","FormBuilder","i2","ActivatedRoute","Router","i3","CourseService","i4","ContentService","i5","DomSanitizer","ChangeDetectorRef","selectors","viewQuery","CourseContentEtudiantComponent_Query","rf","ctx","CourseContentEtudiantComponent_div_18_Template","CourseContentEtudiantComponent_div_20_Template","CourseContentEtudiantComponent_div_46_Template","title_Course","ɵɵtextInterpolate2","description_Course","ɵɵpipeBind2","createdAt_Course"],"sources":["C:\\Users\\Sakka\\Desktop\\Prépa\\final\\dashboard-v2\\src\\app\\front-office\\courses\\course-content-etudiant\\course-content-etudiant.component.ts","C:\\Users\\Sakka\\Desktop\\Prépa\\final\\dashboard-v2\\src\\app\\front-office\\courses\\course-content-etudiant\\course-content-etudiant.component.html"],"sourcesContent":["import { Content } from 'src/app/models/content.model';\nimport { Course } from 'src/app/models/course.model';\nimport { ContentService } from 'src/app/services/content.service';\nimport { CourseService } from 'src/app/services/course.service';\nimport { FormBuilder, FormGroup, FormArray, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DomSanitizer, SafeResourceUrl, SafeHtml } from '@angular/platform-browser';\nimport { Component, OnInit, ViewChild, ElementRef, ChangeDetectorRef } from '@angular/core';\nimport { switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-course-content-etudiant',\n  templateUrl: './course-content-etudiant.component.html',\n  styleUrls: ['./course-content-etudiant.component.css']\n})\nexport class CourseContentEtudiantComponent implements OnInit {\n  @ViewChild('videoPlayer') videoPlayer!: ElementRef<HTMLVideoElement>;\n  @ViewChild('pdfFileInput') pdfFileInput!: ElementRef;\n\n  // Données du cours\n  course: Course | null = null;\n  contents: Content[] = [];\n  courseId!: number;\n  \n  // Gestion du formulaire\n  contentForm!: FormGroup;\n  editingContentId: number | null = null;\n  contentTypes = ['VIDEO', 'PDF', 'QUIZ', 'TEXT'];\n  isSubmitting = false;\n  \n  // Gestion des fichiers\n  selectedFile: File | null = null;\n  selectedFileError: string | null = null;\n  \n  // Affichage du contenu\n  selectedContent: Content | null = null;\n  contentType: string = '';\n  safeVideoUrl: SafeResourceUrl | null = null;\n  pdfUrl: string = '';\n  quizData: any;\n  textContent: string = '';\n  isContentModalOpen = false;\n  \n  // États de chargement\n  isLoading = true;\n  errorMessage: string | null = null;\n\n  constructor(\n    private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private router: Router,\n    private courseService: CourseService,\n    private contentService: ContentService,\n    private sanitizer: DomSanitizer,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnInit(): void {\n    this.initForm();\n    this.loadCourseData();\n  }\n\n  private initForm(): void {\n    this.contentForm = this.fb.group({\n      title: ['', [Validators.required, Validators.maxLength(100)]],\n      type: ['', Validators.required],\n      url: [''],\n      description: [''],\n      orderIndex: [0, [Validators.required, Validators.min(0)]],\n      duration: [0, [Validators.min(0)]],\n      quizTitle: [''],\n      questions: this.fb.array([])\n    });\n\n    this.contentForm.get('type')?.valueChanges.subscribe(() => this.onTypeChange());\n  }\n\n  private loadCourseData(): void {\n    this.route.params.pipe(\n      switchMap(params => {\n        this.courseId = +params['id'];\n        this.isLoading = true;\n        this.errorMessage = null;\n        return this.courseService.getCourseById(this.courseId);\n      }),\n      switchMap(course => {\n        if (!course) {\n          throw new Error('Course not found');\n        }\n        this.course = course;\n        return this.contentService.getContentsByCourseId(this.courseId);\n      })\n    ).subscribe({\n      next: (contents) => {\n        this.contents = this.sortContents(contents);\n        this.isLoading = false;\n        this.cdr.detectChanges();\n      },\n      error: (err) => {\n        console.error('Error loading course data:', err);\n        this.errorMessage = 'Failed to load course data. Please try again later.';\n        this.isLoading = false;\n        this.cdr.detectChanges();\n      }\n    });\n  }\n\n  private sortContents(contents: Content[]): Content[] {\n    return [...contents].sort((a, b) => \n      (a.orderIndex_Content || 0) - (b.orderIndex_Content || 0)\n    );\n  }\n\n  get questions(): FormArray {\n    return this.contentForm.get('questions') as FormArray;\n  }\n\n  getQuestionOptions(questionIndex: number): FormArray {\n    return this.questions.at(questionIndex).get('options') as FormArray;\n  }\n\n  onTypeChange(): void {\n    const type = this.contentForm.get('type')?.value;\n    \n    if (type !== 'QUIZ') {\n      this.contentForm.setControl('questions', this.fb.array([]));\n    }\n    if (type !== 'PDF') {\n      this.selectedFile = null;\n      this.selectedFileError = null;\n    }\n    if (type !== 'VIDEO') {\n      this.contentForm.get('url')?.reset();\n    }\n    if (type !== 'TEXT') {\n      this.contentForm.get('description')?.reset();\n    }\n  }\n\n  onFileSelected(event: any): void {\n    const file: File = event.target.files[0];\n    this.selectedFileError = null;\n\n    if (!file) return;\n\n    if (file.type !== 'application/pdf') {\n      this.selectedFileError = 'Please select a valid PDF file';\n      this.resetFileInput();\n      return;\n    }\n\n    if (file.size > 5 * 1024 * 1024) {\n      this.selectedFileError = 'File size exceeds 5MB limit';\n      this.resetFileInput();\n      return;\n    }\n\n    this.selectedFile = file;\n    const reader = new FileReader();\n    reader.onload = (e: any) => {\n      this.pdfUrl = e.target.result;\n      this.contentForm.patchValue({ url: e.target.result });\n      this.cdr.detectChanges();\n    };\n    reader.readAsDataURL(file);\n  }\n\n  private resetFileInput(): void {\n    this.selectedFile = null;\n    if (this.pdfFileInput?.nativeElement) {\n      this.pdfFileInput.nativeElement.value = '';\n    }\n  }\n\n  addQuestion(): void {\n    this.questions.push(this.fb.group({\n      text: ['', Validators.required],\n      options: this.fb.array([this.fb.control('', Validators.required)]),\n      correctAnswer: [0, Validators.required]\n    }));\n  }\n\n  removeQuestion(index: number): void {\n    this.questions.removeAt(index);\n  }\n\n  addOption(questionIndex: number): void {\n    this.getQuestionOptions(questionIndex).push(this.fb.control('', Validators.required));\n  }\n\n  removeOption(questionIndex: number, optionIndex: number): void {\n    this.getQuestionOptions(questionIndex).removeAt(optionIndex);\n  }\n\n  showContent(content: Content): void {\n    if (!content) return;\n\n    this.selectedContent = content;\n    this.contentType = content.type_Content;\n    this.isContentModalOpen = true;\n\n    switch(content.type_Content) {\n      case 'VIDEO':\n        this.handleVideoContent(content.url_Content || '');\n        break;\n      case 'PDF':\n        this.pdfUrl = content.url_Content || '';\n        break;\n      case 'QUIZ':\n        this.parseQuizContent(content.description_Content);\n        break;\n      case 'TEXT':\n        this.textContent = content.description_Content || '';\n        break;\n    }\n    this.cdr.detectChanges();\n  }\n\n  private handleVideoContent(url: string): void {\n    if (!url) {\n      this.safeVideoUrl = null;\n      return;\n    }\n\n    if (this.isYouTubeUrl(url)) {\n      const videoId = this.getYouTubeId(url);\n      const embedUrl = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1`;\n      this.safeVideoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(embedUrl);\n    } else {\n      this.safeVideoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(url);\n    }\n  }\n\n  private parseQuizContent(description: string | undefined): void {\n    try {\n      this.quizData = description ? JSON.parse(description) : { title: 'Quiz', questions: [] };\n    } catch {\n      this.quizData = { title: 'Quiz', questions: [] };\n    }\n  }\n\n  isYouTubeUrl(url: string): boolean {\n    return url?.includes('youtube.com') || url?.includes('youtu.be');\n  }\n\n  private getYouTubeId(url: string): string {\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n    const match = url.match(regExp);\n    return (match && match[2].length === 11) ? match[2] : '';\n  }\n\n  getSafePdfUrl(url: string): SafeResourceUrl {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n\n  getSafeHtml(content: string): SafeHtml {\n    return this.sanitizer.bypassSecurityTrustHtml(content);\n  }\n\n  getCharFromCode(code: number): string {\n    return String.fromCharCode(code);\n  }\n\n  closeContentModal(): void {\n    this.isContentModalOpen = false;\n    this.selectedContent = null;\n    this.safeVideoUrl = null;\n    this.pdfUrl = '';\n    this.quizData = null;\n    this.textContent = '';\n  }\n\n  onSubmit(): void {\n    if (this.contentForm.invalid || this.isSubmitting) return;\n\n    this.isSubmitting = true;\n    const formValue = this.contentForm.value;\n    const contentData: Partial<Content> = {\n      title_Content: formValue.title,\n      type_Content: formValue.type,\n      orderIndex_Content: formValue.orderIndex,\n      duration_Content: formValue.duration,\n      courseId: this.courseId \n    };\n\n    this.prepareContentData(contentData, formValue);\n\n    const save$ = this.editingContentId\n      ? this.contentService.updateContent({\n          ...contentData,\n          id_Content: this.editingContentId\n        } as Content)\n      : this.contentService.addContent(contentData as Content, this.courseId);\n\n    save$.subscribe({\n      next: () => {\n        this.isSubmitting = false;\n        this.resetForm();\n        this.handleSaveSuccess();\n      },\n      error: (err) => {\n        this.handleSaveError(err);\n      }\n    });\n  }\n\n  private prepareContentData(contentData: Partial<Content>, formValue: any): void {\n    switch(formValue.type) {\n      case 'QUIZ':\n        contentData.description_Content = JSON.stringify({\n          title: formValue.quizTitle,\n          questions: formValue.questions\n        });\n        break;\n      case 'TEXT':\n        contentData.description_Content = formValue.description;\n        break;\n      case 'VIDEO':\n        contentData.url_Content = formValue.url;\n        break;\n      case 'PDF':\n        contentData.url_Content = formValue.url;\n        break;\n    }\n  }\n\n  private handleSaveSuccess(): void {\n    this.isSubmitting = false;\n    this.resetForm();\n    this.loadCourseData();\n  }\n\n  private handleSaveError(error: any): void {\n    console.error('Error saving content:', error);\n    this.isSubmitting = false;\n    this.errorMessage = 'Failed to save content. Please try again.';\n    this.cdr.detectChanges();\n  }\n\n  onEditContent(content: Content, event: Event): void {\n    event.stopPropagation();\n    this.editingContentId = content.id_Content || null;\n    \n    this.contentForm.reset({\n      orderIndex: 0,\n      duration: 0\n    });\n\n    this.prepareEditForm(content);\n  }\n\n  private prepareEditForm(content: Content): void {\n    const formData: any = {\n      title: content.title_Content,\n      type: content.type_Content,\n      orderIndex: content.orderIndex_Content || 0,\n      duration: content.duration_Content || 0\n    };\n\n    if (content.type_Content === 'QUIZ') {\n      this.prepareQuizForm(content, formData);\n    } else {\n      formData.description = content.description_Content || '';\n      formData.url = content.url_Content || '';\n    }\n\n    this.contentForm.patchValue(formData);\n  }\n\n  private prepareQuizForm(content: Content, formData: any): void {\n    try {\n      const quizData = content.description_Content ? JSON.parse(content.description_Content) : { title: '', questions: [] };\n      formData.quizTitle = quizData.title;\n      \n      const questionsArray = this.fb.array(\n        quizData.questions?.map((q: any) => \n          this.fb.group({\n            text: [q.text, Validators.required],\n            options: this.fb.array(\n              q.options?.map((opt: string) => \n                this.fb.control(opt, Validators.required)\n              ) || []\n            ),\n            correctAnswer: [q.correctAnswer ?? 0, Validators.required]\n          })\n        ) || []\n      );\n      \n      this.contentForm.setControl('questions', questionsArray);\n    } catch (e) {\n      console.error('Error parsing quiz data:', e);\n    }\n  }\n\n  onDeleteContent(id: number | undefined, event: Event): void {\n    if (!id) return;\n\n    event.stopPropagation();\n    if (confirm('Are you sure you want to delete this content?')) {\n      this.contentService.deleteContent(id).subscribe({\n        next: () => {\n          this.loadCourseData();\n        },\n        error: (err) => {\n          console.error('Delete error:', err);\n          this.errorMessage = 'Failed to delete content. Please try again.';\n          this.cdr.detectChanges();\n        }\n      });\n    }\n  }\n\n  resetForm(): void {\n    this.contentForm.reset({\n      orderIndex: 0,\n      duration: 0\n    });\n    this.contentForm.setControl('questions', this.fb.array([]));\n    this.selectedFile = null;\n    this.editingContentId = null;\n    this.selectedFileError = null;\n    this.resetFileInput();\n  }\n\n  onCancel(): void {\n    this.resetForm();\n  }\n}","<div class=\"container course-dashboard\">\n    <div class=\"course-header\">\n      <h1 class=\"course-title\">\n        <i class=\"bi bi-journal-bookmark-fill\"></i>\n        Course Content: {{ course?.title_Course }}\n      </h1>\n      <button class=\"mauve-gradient-btn\" routerLink=\"/student/courses\">\n        <i class=\"bi bi-arrow-left\"></i> Back to Courses\n      </button>\n    </div>\n  \n    <div class=\"course-layout\">\n      <!-- Main Content Section -->\n      <div class=\"content-main\">\n        <div class=\"content-card\">\n          <div class=\"card-header\">\n            <h2><i class=\"bi bi-list-task\"></i> Content List</h2>\n            <span class=\"content-badge\">{{ contents.length }} item{{ contents.length !== 1 ? 's' : '' }}</span>\n          </div>\n          \n          <div class=\"card-body\">\n            <div *ngIf=\"contents.length === 0\" class=\"empty-state\">\n              <i class=\"bi bi-info-circle\"></i>\n              No content has been added to this course yet.\n            </div>\n            \n            <div class=\"content-items\">\n              <div *ngFor=\"let content of contents; let i = index\" \n                   class=\"content-item\"\n                   [class.even-item]=\"i % 2 === 0\"\n                   (click)=\"showContent(content)\">\n                <div class=\"item-header\">\n                  <span class=\"order-badge\">#{{ content.orderIndex_Content }}</span>\n                  <h3>{{ content.title_Content }}</h3>\n                  <span class=\"type-label\" [class]=\"'type-' + content.type_Content.toLowerCase()\">\n                    {{ content.type_Content }}\n                  </span>\n                </div>\n                \n                <p class=\"item-description\" *ngIf=\"content.description_Content\">\n                  {{ (content.description_Content.length > 120) ? \n                     (content.description_Content | slice:0:120) + '...' : \n                     content.description_Content }}\n                </p>\n                \n             \n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  \n      <!-- Sidebar Section -->\n      <div class=\"course-sidebar\">\n        <div class=\"info-card\">\n          <div class=\"info-header\">\n            <h2><i class=\"bi bi-info-circle\"></i> Course Details</h2>\n          </div>\n          <div class=\"info-body\">\n            <div class=\"info-section\">\n              <h3>Description</h3>\n              <p>{{ course?.description_Course || 'No description available' }}</p>\n            </div>\n            <div class=\"info-section\">\n              <h3>Statistics</h3>\n              <div class=\"stats-container\">\n                <div class=\"stat-item\">\n                  <i class=\"bi bi-file-text\"></i>\n                  <span>Contents: {{ contents.length }}</span>\n                </div>\n                <div class=\"stat-item\">\n                  <i class=\"bi bi-calendar-check\"></i>\n                  <span>Last Updated: {{ course?.createdAt_Course | date:'mediumDate' }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Content Display Modal -->\n  <div *ngIf=\"isContentModalOpen\" class=\"modal-overlay\" (click)=\"closeContentModal()\">\n    <div class=\"modal-container\" (click)=\"$event.stopPropagation()\">\n      <div class=\"modal-header\">\n        <div class=\"modal-title\">\n          <i class=\"bi\" \n             [class.bi-film]=\"contentType === 'VIDEO'\"\n             [class.bi-file-earmark-pdf]=\"contentType === 'PDF'\"\n             [class.bi-question-circle]=\"contentType === 'QUIZ'\"\n             [class.bi-file-text]=\"contentType === 'TEXT'\"></i>\n          <h2>{{ selectedContent?.title_Content }}</h2>\n        </div>\n        <button class=\"modal-close\" (click)=\"closeContentModal()\">\n          <i class=\"bi bi-x-lg\"></i>\n        </button>\n      </div>\n      \n      <div class=\"modal-content\">\n        <!-- Content display remains the same -->\n      </div>\n      \n      <div class=\"modal-footer\">\n        <button class=\"mauve-gradient-btn\" (click)=\"closeContentModal()\">\n          <i class=\"bi bi-check-lg\"></i> Close\n        </button>\n      </div>\n    </div>\n  </div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}