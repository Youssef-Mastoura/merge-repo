{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, HostListener } from '@angular/core';\nexport let HeaderComponent = class HeaderComponent {\n  constructor(router, authService, userService) {\n    this.router = router;\n    this.authService = authService;\n    this.userService = userService;\n    this.isAuthenticated = false; // Variable simple (pas d'Observable)\n    this.isProfileDropdownOpen = false;\n    this.isUserDetailsModalOpen = false;\n    this.isAuthenticated = this.authService.isAuthenticatedSync();\n  }\n  toggleProfileDropdown(event) {\n    this.currentUser = this.authService.getCurrentUserInfo();\n    console.log('User info:', this.currentUser);\n    event.stopPropagation();\n    this.isProfileDropdownOpen = !this.isProfileDropdownOpen;\n  }\n  openUserDetailsModal() {\n    this.currentUser = this.authService.getCurrentUserInfo();\n    this.isUserDetailsModalOpen = true;\n    this.isProfileDropdownOpen = false;\n  }\n  closeUserDetailsModal() {\n    this.isUserDetailsModalOpen = false;\n  }\n  closeProfileDropdown(event) {\n    if (!event.target.closest('#user-menu-button') && !event.target.closest('#profile-dropdown')) {\n      this.isProfileDropdownOpen = false;\n    }\n  }\n  logout() {\n    this.authService.logout();\n    this.isProfileDropdownOpen = false;\n  }\n};\n__decorate([HostListener('document:click', ['$event'])], HeaderComponent.prototype, \"closeProfileDropdown\", null);\nHeaderComponent = __decorate([Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})], HeaderComponent);","map":{"version":3,"names":["Component","HostListener","HeaderComponent","constructor","router","authService","userService","isAuthenticated","isProfileDropdownOpen","isUserDetailsModalOpen","isAuthenticatedSync","toggleProfileDropdown","event","currentUser","getCurrentUserInfo","console","log","stopPropagation","openUserDetailsModal","closeUserDetailsModal","closeProfileDropdown","target","closest","logout","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Sakka\\Desktop\\final\\dashboard-v2\\src\\app\\front-office\\header\\header.component.ts"],"sourcesContent":["import { Component, HostListener } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/auth.service';\nimport { UserService } from 'src/app/user.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent {\n  isAuthenticated: boolean = false; // Variable simple (pas d'Observable)\n  userInfo: any;\n  constructor(private router: Router,  private authService: AuthService,private userService: UserService,\n\n  ) { \n \n      this.isAuthenticated = this.authService.isAuthenticatedSync();\n}\n\n\nisProfileDropdownOpen = false;\nisUserDetailsModalOpen = false;\ncurrentUser: any;\n\ntoggleProfileDropdown(event: Event): void {\n  this.currentUser = this.authService.getCurrentUserInfo();\n  console.log('User info:', this.currentUser);\n  event.stopPropagation();\n  this.isProfileDropdownOpen = !this.isProfileDropdownOpen;\n}\n\nopenUserDetailsModal(): void {\n  this.currentUser = this.authService.getCurrentUserInfo();\n  this.isUserDetailsModalOpen = true;\n  this.isProfileDropdownOpen = false;\n}\n\ncloseUserDetailsModal(): void {\n  this.isUserDetailsModalOpen = false;\n}\n\n@HostListener('document:click', ['$event'])\ncloseProfileDropdown(event: Event): void {\n  if (!(event.target as HTMLElement).closest('#user-menu-button') && \n      !(event.target as HTMLElement).closest('#profile-dropdown')) {\n    this.isProfileDropdownOpen = false;\n  }\n}\n\nlogout(): void {\n  this.authService.logout();\n  this.isProfileDropdownOpen = false;\n}\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,YAAY,QAAQ,eAAe;AAUhD,WAAMC,eAAe,GAArB,MAAMA,eAAe;EAG1BC,YAAoBC,MAAc,EAAWC,WAAwB,EAASC,WAAwB;IAAlF,KAAAF,MAAM,GAANA,MAAM;IAAmB,KAAAC,WAAW,GAAXA,WAAW;IAAsB,KAAAC,WAAW,GAAXA,WAAW;IAFzF,KAAAC,eAAe,GAAY,KAAK,CAAC,CAAC;IAUpC,KAAAC,qBAAqB,GAAG,KAAK;IAC7B,KAAAC,sBAAsB,GAAG,KAAK;IALxB,IAAI,CAACF,eAAe,GAAG,IAAI,CAACF,WAAW,CAACK,mBAAmB,EAAE;EACnE;EAOAC,qBAAqBA,CAACC,KAAY;IAChC,IAAI,CAACC,WAAW,GAAG,IAAI,CAACR,WAAW,CAACS,kBAAkB,EAAE;IACxDC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE,IAAI,CAACH,WAAW,CAAC;IAC3CD,KAAK,CAACK,eAAe,EAAE;IACvB,IAAI,CAACT,qBAAqB,GAAG,CAAC,IAAI,CAACA,qBAAqB;EAC1D;EAEAU,oBAAoBA,CAAA;IAClB,IAAI,CAACL,WAAW,GAAG,IAAI,CAACR,WAAW,CAACS,kBAAkB,EAAE;IACxD,IAAI,CAACL,sBAAsB,GAAG,IAAI;IAClC,IAAI,CAACD,qBAAqB,GAAG,KAAK;EACpC;EAEAW,qBAAqBA,CAAA;IACnB,IAAI,CAACV,sBAAsB,GAAG,KAAK;EACrC;EAGAW,oBAAoBA,CAACR,KAAY;IAC/B,IAAI,CAAEA,KAAK,CAACS,MAAsB,CAACC,OAAO,CAAC,mBAAmB,CAAC,IAC3D,CAAEV,KAAK,CAACS,MAAsB,CAACC,OAAO,CAAC,mBAAmB,CAAC,EAAE;MAC/D,IAAI,CAACd,qBAAqB,GAAG,KAAK;;EAEtC;EAEAe,MAAMA,CAAA;IACJ,IAAI,CAAClB,WAAW,CAACkB,MAAM,EAAE;IACzB,IAAI,CAACf,qBAAqB,GAAG,KAAK;EACpC;CAEC;AAZDgB,UAAA,EADCvB,YAAY,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,CAAC,C,0DAM1C;AAtCYC,eAAe,GAAAsB,UAAA,EAL3BxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACWzB,eAAe,CA6C3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}