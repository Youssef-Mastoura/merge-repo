{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../user.service\";\nimport * as i3 from \"../auth.service\";\nimport * as i4 from \"@abacritt/angularx-social-login\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"ng-recaptcha\";\nfunction LoginAdminComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 33)(2, \"h3\", 34);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function LoginAdminComponent_div_1_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.navigateToAdmin());\n    });\n    i0.ɵɵtext(5, \" Continuer \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Bienvenue \", ctx_r0.welcomeEmail, \" !\");\n  }\n}\nfunction LoginAdminComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 33)(2, \"h3\", 34);\n    i0.ɵɵtext(3, \"Acc\\u00E8s refus\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 36);\n    i0.ɵɵtext(5, \"Vous n'\\u00EAtes pas autoris\\u00E9 \\u00E0 vous connecter en tant qu'administrateur.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function LoginAdminComponent_div_2_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.showAdminError = false);\n    });\n    i0.ɵɵtext(7, \" Compris \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction LoginAdminComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 33)(2, \"h3\", 34);\n    i0.ɵɵtext(3, \"\\u00C9chec de connexion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 36);\n    i0.ɵɵtext(5, \"Identifiants incorrects, veuillez r\\u00E9essayer.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function LoginAdminComponent_div_3_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.showAuthError = false);\n    });\n    i0.ɵɵtext(7, \" R\\u00E9essayer \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction LoginAdminComponent_div_4_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r16.resetPasswordError, \" \");\n  }\n}\nfunction LoginAdminComponent_div_4_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1, \" An Email will be sended... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginAdminComponent_div_4_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Un email de r\\u00E9initialisation a \\u00E9t\\u00E9 envoy\\u00E9 \\u00E0 \", ctx_r18.resetEmail, \". \");\n  }\n}\nfunction LoginAdminComponent_div_4_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 45)(2, \"label\", 46);\n    i0.ɵɵtext(3, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 47);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginAdminComponent_div_4_div_7_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.resetEmail = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 48)(6, \"button\", 49);\n    i0.ɵɵlistener(\"click\", function LoginAdminComponent_div_4_div_7_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.showResetPasswordModal = false);\n    });\n    i0.ɵɵtext(7, \" Annuler \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function LoginAdminComponent_div_4_div_7_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.onResetPassword());\n    });\n    i0.ɵɵtext(9, \" Envoyer \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r19.resetEmail);\n  }\n}\nfunction LoginAdminComponent_div_4_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function LoginAdminComponent_div_4_div_8_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.closeResetPasswordModal());\n    });\n    i0.ɵɵtext(2, \" Continue \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginAdminComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 33)(2, \"h3\", 34);\n    i0.ɵɵtext(3, \"R\\u00E9initialiser le mot de passe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, LoginAdminComponent_div_4_div_4_Template, 2, 1, \"div\", 37);\n    i0.ɵɵtemplate(5, LoginAdminComponent_div_4_div_5_Template, 2, 0, \"div\", 38);\n    i0.ɵɵtemplate(6, LoginAdminComponent_div_4_div_6_Template, 2, 1, \"div\", 39);\n    i0.ɵɵtemplate(7, LoginAdminComponent_div_4_div_7_Template, 10, 1, \"div\", 40);\n    i0.ɵɵtemplate(8, LoginAdminComponent_div_4_div_8_Template, 3, 0, \"div\", 41);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.resetPasswordError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isLoading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.resetPasswordSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.resetPasswordSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.resetPasswordSuccess);\n  }\n}\nfunction LoginAdminComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.errorMessage, \" \");\n  }\n}\nfunction LoginAdminComponent_div_19_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginAdminComponent_div_19_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Please enter a valid email\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginAdminComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵtemplate(1, LoginAdminComponent_div_19_span_1_Template, 2, 0, \"span\", 40);\n    i0.ɵɵtemplate(2, LoginAdminComponent_div_19_span_2_Template, 2, 0, \"span\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r5.loginForm.get(\"email\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r5.loginForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"email\"]);\n  }\n}\nfunction LoginAdminComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵtext(1, \" Password is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginAdminComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵtext(1, \" Veuillez valider que vous n'\\u00EAtes pas un robot. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginAdminComponent_div_52_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r29 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r29.codeVerificationError, \" \");\n  }\n}\nfunction LoginAdminComponent_div_52_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1, \" V\\u00E9rification en cours... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginAdminComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 33)(2, \"h3\", 34);\n    i0.ɵɵtext(3, \"Changer le mot de passe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, LoginAdminComponent_div_52_div_4_Template, 2, 1, \"div\", 37);\n    i0.ɵɵtemplate(5, LoginAdminComponent_div_52_div_5_Template, 2, 0, \"div\", 38);\n    i0.ɵɵelementStart(6, \"form\", 54);\n    i0.ɵɵlistener(\"ngSubmit\", function LoginAdminComponent_div_52_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.onSubmitNewPassword());\n    });\n    i0.ɵɵelementStart(7, \"div\")(8, \"label\", 55);\n    i0.ɵɵtext(9, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 56);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginAdminComponent_div_52_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.verificationEmail = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\")(12, \"label\", 57);\n    i0.ɵɵtext(13, \"Code de v\\u00E9rification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 58);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginAdminComponent_div_52_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.verificationCode = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\")(16, \"label\", 59);\n    i0.ɵɵtext(17, \"Nouveau mot de passe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 60);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginAdminComponent_div_52_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.newPassword = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 48)(20, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function LoginAdminComponent_div_52_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.showCodeVerificationModal = false);\n    });\n    i0.ɵɵtext(21, \" Annuler \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 62);\n    i0.ɵɵtext(23, \" Valider \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.codeVerificationError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.isLoading);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.verificationEmail);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.verificationCode);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.newPassword);\n  }\n}\nfunction LoginAdminComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 33)(2, \"h3\", 34);\n    i0.ɵɵtext(3, \"Mot de passe chang\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 36);\n    i0.ɵɵtext(5, \"Votre mot de passe a \\u00E9t\\u00E9 chang\\u00E9 avec succ\\u00E8s.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function LoginAdminComponent_div_53_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.navigateToLogin());\n    });\n    i0.ɵɵtext(7, \" Se connecter \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class LoginAdminComponent {\n  constructor(fb, userService, authService, socialAuthService, router) {\n    this.fb = fb;\n    this.userService = userService;\n    this.authService = authService;\n    this.socialAuthService = socialAuthService;\n    this.router = router;\n    this.SignInOptions = [{\n      image: 'assets/images/authentication/google.svg',\n      name: 'Google'\n    }];\n    this.errorMessage = '';\n    this.showWelcomeMessage = false;\n    this.showAdminError = false;\n    this.showAuthError = false;\n    this.welcomeEmail = '';\n    this.isLoading = false;\n    this.showResetPasswordModal = false;\n    this.resetEmail = '';\n    this.resetPasswordSuccess = false;\n    this.resetPasswordError = '';\n    this.showCodeVerificationModal = false;\n    this.showPasswordChangedModal = false;\n    this.verificationEmail = '';\n    this.verificationCode = '';\n    this.newPassword = '';\n    this.codeVerificationError = '';\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required],\n      recaptcha: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.socialAuthService.authState.subscribe(user => {\n      this.socialUser = user;\n      this.isLoggedin = user != null;\n      if (this.isLoggedin) {\n        this.handleSocialLogin(user);\n      }\n    });\n  }\n  handleSocialLogin(user) {\n    this.userService.registerWithGoogle(user).subscribe({\n      next: response => {\n        if (response.token) {\n          localStorage.setItem('auth_token', response.token);\n          this.authService.setAuthToken(response.token);\n          this.router.navigate(['/admin/user-admin']);\n        }\n      },\n      error: err => {\n        console.error('Erreur lors de la connexion avec Google', err);\n      }\n    });\n  }\n  // Ajoutez cette méthode à votre classe existante\n  // Ajoutez cette méthode pour gérer le logout Google si nécessaire\n  signOut() {\n    this.socialAuthService.signOut().then(() => {\n      console.log('Déconnexion Google réussie');\n      this.authService.clearAuth();\n    }).catch(err => {\n      console.error('Erreur lors de la déconnexion Google', err);\n    });\n  }\n  onSubmit() {\n    this.errorMessage = '';\n    this.showWelcomeMessage = false;\n    this.showAdminError = false;\n    this.showAuthError = false;\n    if (this.loginForm.invalid) {\n      return;\n    }\n    const {\n      email,\n      password\n    } = this.loginForm.value;\n    this.userService.login({\n      email,\n      password\n    }).subscribe({\n      next: response => {\n        if (response.token) {\n          localStorage.setItem('auth_token', response.token);\n          this.authService.setAuthToken(response.token);\n          const userInfo = this.authService.getUserInfoFromToken(response.token);\n          this.welcomeEmail = userInfo?.email || '';\n          this.showWelcomeMessage = true;\n          // Retarder la redirection pour laisser voir le message\n          setTimeout(() => {\n            // Redirection ou autre action après connexion\n          }, 2000); // 2 secondes de délai\n        } else {\n          this.showAuthError = true;\n        }\n      },\n      error: () => {\n        this.showAuthError = true;\n      }\n    });\n  }\n  navigateToAdmin() {\n    this.showWelcomeMessage = false; // Cache la modal\n    this.router.navigate(['admin/user-admin']); // Redirection\n  }\n\n  handleImageError(event) {\n    const img = event.target;\n    console.error('Image non trouvée:', img.src);\n    img.style.border = '2px solid red';\n  }\n  openResetPasswordModal(event) {\n    event.preventDefault();\n    this.resetEmail = '';\n    this.isLoading = true;\n    this.resetPasswordSuccess = false;\n    this.resetPasswordError = '';\n    this.showResetPasswordModal = true;\n  }\n  onResetPassword() {\n    if (!this.resetEmail) {\n      this.resetPasswordError = 'Veuillez entrer une adresse email';\n      return;\n    }\n    this.resetPasswordError = '';\n    this.resetPasswordSuccess = false;\n    this.userService.resetPassword(this.resetEmail).subscribe({\n      next: response => {\n        // Le serveur a répondu avec un statut 200\n        this.resetPasswordSuccess = true;\n        this.isLoading = false;\n        this.resetPasswordError = '';\n      },\n      error: err => {\n        // Il y a eu une erreur HTTP ou le serveur a renvoyé une erreur\n        this.resetPasswordError = err.message || 'Une erreur est survenue';\n        this.resetPasswordSuccess = false;\n        this.isLoading = false;\n        console.error('Erreur reset password:', err);\n      }\n    });\n  }\n  // Nouvelle méthode pour gérer la fermeture du premier modal\n  closeResetPasswordModal() {\n    this.showResetPasswordModal = false;\n    if (this.resetPasswordSuccess) {\n      this.showCodeVerificationModal = true;\n    }\n  }\n  // Nouvelle méthode pour valider le code et changer le mot de passe\n  onSubmitNewPassword() {\n    if (!this.verificationCode || !this.newPassword) {\n      this.codeVerificationError = 'Veuillez remplir tous les champs';\n      return;\n    }\n    this.isLoading = true;\n    this.codeVerificationError = '';\n    this.userService.changePassword(this.verificationCode, this.newPassword).subscribe({\n      next: () => {\n        this.isLoading = false;\n        this.showCodeVerificationModal = false;\n        this.showPasswordChangedModal = true;\n      },\n      error: err => {\n        this.codeVerificationError = err.message || 'Code invalide ou erreur lors du changement';\n        this.isLoading = false;\n      }\n    });\n  }\n  // Méthode pour rediriger vers la page de login\n  navigateToLogin() {\n    this.showPasswordChangedModal = false;\n    this.router.navigate(['/admin/login-admin']); // Adaptez le chemin selon votre configuration\n  }\n\n  navigateRegister() {\n    this.router.navigate(['/user/register']); // Adaptez le chemin selon votre configuration\n  }\n\n  handleCaptchaResolve(token) {\n    console.log('reCAPTCHA resolved:', token);\n    // Stockez le token si nécessaire (mais sans backend, c'est juste visuel)\n  }\n}\n\nLoginAdminComponent.ɵfac = function LoginAdminComponent_Factory(t) {\n  return new (t || LoginAdminComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.SocialAuthService), i0.ɵɵdirectiveInject(i5.Router));\n};\nLoginAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginAdminComponent,\n  selectors: [[\"app-login-admin\"]],\n  decls: 54,\n  vars: 16,\n  consts: [[1, \"base\", \"fixed\", \"inset-0\", \"flex\", \"items-center\", \"justify-center\", \"p-4\", \"bg-white\"], [\"class\", \"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 fade-in\", 4, \"ngIf\"], [1, \"content\", \"rounded-2xl\", \"shadow-xl\", \"overflow-hidden\", \"w-full\", \"max-w-md\"], [1, \"main\", \"p-8\", \"space-y-6\"], [1, \"text-center\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-800\"], [1, \"text-gray-600\", \"mt-2\"], [1, \"space-y-5\", 3, \"formGroup\", \"ngSubmit\"], [\"class\", \"text-red-500 text-sm text-center\", 4, \"ngIf\"], [\"for\", \"email\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"email\", \"formControlName\", \"email\", \"type\", \"email\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"bg-white/70\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\", \"placeholder-gray-500\", \"backdrop-blur-sm\"], [\"class\", \"text-red-500 text-xs mt-1\", 4, \"ngIf\"], [\"for\", \"password\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"password\", \"formControlName\", \"password\", \"type\", \"password\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"bg-white/70\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\", \"placeholder-gray-500\", \"backdrop-blur-sm\"], [1, \"mt-4\"], [\"formControlName\", \"recaptcha\", \"siteKey\", \"6Ld1YR0rAAAAAP6eKOKSMFp_wd1Uzj3Vfm4hJpJn\", 3, \"resolved\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"flex\", \"items-center\"], [\"id\", \"remember\", \"name\", \"remember\", \"type\", \"checkbox\", 1, \"h-4\", \"w-4\", \"text-purple-600\", \"focus:ring-purple-500\", \"border-gray-300\", \"rounded\"], [\"for\", \"remember\", 1, \"ml-2\", \"text-sm\", \"text-gray-700\"], [\"href\", \"#\", 1, \"text-sm\", \"font-medium\", \"text-purple-600\", \"hover:text-purple-500\", 3, \"click\"], [\"type\", \"submit\", 1, \"w-full\", \"py-3\", \"px-4\", \"bg-purple-600\", \"hover:bg-purple-700\", \"text-white\", \"font-medium\", \"rounded-lg\", \"transition\", \"duration-200\", \"shadow-md\", \"hover:shadow-lg\", \"transform\", \"hover:-translate-y-0.5\", 3, \"disabled\"], [1, \"relative\", \"my-6\"], [1, \"absolute\", \"inset-0\", \"flex\", \"items-center\"], [1, \"w-full\", \"border-t\", \"border-gray-300/50\"], [1, \"mt-6\"], [1, \"relative\"], [1, \"w-full\", \"border-t\", \"border-gray-300\"], [1, \"relative\", \"flex\", \"justify-center\", \"text-sm\"], [1, \"px-2\", \"bg-white\", \"text-gray-500\"], [\"type\", \"standard\", \"size\", \"medium\", 1, \"w-full\", \"flex\", \"justify-center\"], [1, \"font-medium\", \"text-purple-600\", \"hover:text-purple-500\", 3, \"click\"], [1, \"fixed\", \"inset-0\", \"flex\", \"items-center\", \"justify-center\", \"z-50\", \"bg-black\", \"bg-opacity-50\", \"fade-in\"], [1, \"bg-white\", \"p-6\", \"rounded-lg\", \"shadow-xl\", \"max-w-sm\", \"w-full\", \"mx-4\"], [1, \"text-lg\", \"font-medium\", \"text-gray-900\", \"mb-4\"], [1, \"w-full\", \"bg-purple-600\", \"text-white\", \"py-2\", \"px-4\", \"rounded-md\", \"hover:bg-purple-700\", \"transition\", 3, \"click\"], [1, \"text-gray-600\", \"mb-4\"], [\"class\", \"mb-4 p-3 bg-red-100 text-red-700 rounded\", 4, \"ngIf\"], [\"class\", \"mb-4 p-3 bg-blue-100 text-blue-700 rounded\", 4, \"ngIf\"], [\"class\", \"mb-4 p-3 bg-green-100 text-green-700 rounded\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"mt-4\", 4, \"ngIf\"], [1, \"mb-4\", \"p-3\", \"bg-red-100\", \"text-red-700\", \"rounded\"], [1, \"mb-4\", \"p-3\", \"bg-blue-100\", \"text-blue-700\", \"rounded\"], [1, \"mb-4\", \"p-3\", \"bg-green-100\", \"text-green-700\", \"rounded\"], [1, \"mb-4\"], [\"for\", \"resetEmail\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"resetEmail\", \"type\", \"email\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"bg-white/70\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\", \"placeholder-gray-500\", \"backdrop-blur-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"justify-end\", \"space-x-3\"], [1, \"px-4\", \"py-2\", \"border\", \"border-gray-300\", \"rounded-md\", \"text-gray-700\", \"hover:bg-gray-50\", \"transition\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"bg-purple-600\", \"text-white\", \"rounded-md\", \"hover:bg-purple-700\", \"transition\", 3, \"click\"], [1, \"w-full\", \"px-4\", \"py-2\", \"bg-purple-600\", \"text-white\", \"rounded-md\", \"hover:bg-purple-700\", \"transition\", 3, \"click\"], [1, \"text-red-500\", \"text-sm\", \"text-center\"], [1, \"text-red-500\", \"text-xs\", \"mt-1\"], [1, \"space-y-4\", 3, \"ngSubmit\"], [\"for\", \"verificationEmail\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"verificationEmail\", \"name\", \"email\", \"type\", \"email\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"bg-white/70\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\", \"placeholder-gray-500\", \"backdrop-blur-sm\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"verificationCode\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"verificationCode\", \"name\", \"code\", \"type\", \"text\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"bg-white/70\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\", \"placeholder-gray-500\", \"backdrop-blur-sm\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"newPassword\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"newPassword\", \"name\", \"newPassword\", \"type\", \"password\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"bg-white/70\", \"border\", \"border-gray-200\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\", \"placeholder-gray-500\", \"backdrop-blur-sm\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"px-4\", \"py-2\", \"border\", \"border-gray-300\", \"rounded-md\", \"text-gray-700\", \"hover:bg-gray-50\", \"transition\", 3, \"click\"], [\"type\", \"submit\", 1, \"px-4\", \"py-2\", \"bg-purple-600\", \"text-white\", \"rounded-md\", \"hover:bg-purple-700\", \"transition\"]],\n  template: function LoginAdminComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, LoginAdminComponent_div_1_Template, 6, 1, \"div\", 1);\n      i0.ɵɵtemplate(2, LoginAdminComponent_div_2_Template, 8, 0, \"div\", 1);\n      i0.ɵɵtemplate(3, LoginAdminComponent_div_3_Template, 8, 0, \"div\", 1);\n      i0.ɵɵtemplate(4, LoginAdminComponent_div_4_Template, 9, 5, \"div\", 1);\n      i0.ɵɵelement(5, \"head\");\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"div\", 3)(8, \"div\", 4)(9, \"h1\", 5);\n      i0.ɵɵtext(10, \"Welcome Back\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"p\", 6);\n      i0.ɵɵtext(12, \"Sign in to access your dashboard\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"form\", 7);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginAdminComponent_Template_form_ngSubmit_13_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵtemplate(14, LoginAdminComponent_div_14_Template, 2, 1, \"div\", 8);\n      i0.ɵɵelementStart(15, \"div\")(16, \"label\", 9);\n      i0.ɵɵtext(17, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 10);\n      i0.ɵɵtemplate(19, LoginAdminComponent_div_19_Template, 3, 2, \"div\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\")(21, \"label\", 12);\n      i0.ɵɵtext(22, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"input\", 13);\n      i0.ɵɵtemplate(24, LoginAdminComponent_div_24_Template, 2, 0, \"div\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 14)(26, \"re-captcha\", 15);\n      i0.ɵɵlistener(\"resolved\", function LoginAdminComponent_Template_re_captcha_resolved_26_listener($event) {\n        return ctx.handleCaptchaResolve($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(27, LoginAdminComponent_div_27_Template, 2, 0, \"div\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 16)(29, \"div\", 17);\n      i0.ɵɵelement(30, \"input\", 18);\n      i0.ɵɵelementStart(31, \"label\", 19);\n      i0.ɵɵtext(32, \"Remember me\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"a\", 20);\n      i0.ɵɵlistener(\"click\", function LoginAdminComponent_Template_a_click_33_listener($event) {\n        return ctx.openResetPasswordModal($event);\n      });\n      i0.ɵɵtext(34, \"Forgot password?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"button\", 21);\n      i0.ɵɵtext(36, \" Sign In \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(37, \"div\", 22)(38, \"div\", 23);\n      i0.ɵɵelement(39, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\", 25)(41, \"div\", 26)(42, \"div\", 23);\n      i0.ɵɵelement(43, \"div\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 28)(45, \"span\", 29);\n      i0.ɵɵtext(46, \"Or continue with\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(47, \"div\", 25);\n      i0.ɵɵelement(48, \"asl-google-signin-button\", 30);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtext(49, \" Don't have an account? \");\n      i0.ɵɵelementStart(50, \"button\", 31);\n      i0.ɵɵlistener(\"click\", function LoginAdminComponent_Template_button_click_50_listener() {\n        return ctx.navigateRegister();\n      });\n      i0.ɵɵtext(51, \"Sign up\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(52, LoginAdminComponent_div_52_Template, 24, 5, \"div\", 1);\n      i0.ɵɵtemplate(53, LoginAdminComponent_div_53_Template, 8, 0, \"div\", 1);\n    }\n    if (rf & 2) {\n      let tmp_6_0;\n      let tmp_7_0;\n      let tmp_8_0;\n      let tmp_9_0;\n      let tmp_10_0;\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showWelcomeMessage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showAdminError);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showAuthError);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showResetPasswordModal);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"border-red-500\", ((tmp_6_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_6_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_7_0.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"border-red-500\", ((tmp_8_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_8_0.invalid) && ((tmp_8_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_8_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_9_0.touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_10_0 = ctx.loginForm.get(\"recaptcha\")) == null ? null : tmp_10_0.invalid) && ((tmp_10_0 = ctx.loginForm.get(\"recaptcha\")) == null ? null : tmp_10_0.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngIf\", ctx.showCodeVerificationModal);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showPasswordChangedModal);\n    }\n  },\n  dependencies: [i6.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i1.NgModel, i1.NgForm, i4.GoogleSigninButtonDirective, i7.RecaptchaComponent, i7.RecaptchaValueAccessorDirective],\n  styles: [\".base[_ngcontent-%COMP%] {\\n    background-image: url('mac.webp');\\n    background-size: cover;\\n    background-position: center;\\n  }\\n  \\n  .base[_ngcontent-%COMP%]:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    height: 100%;\\n    background: linear-gradient(\\n      180deg,\\n      rgba(255, 255, 255, 0.72) 0%,\\n      rgba(255, 255, 255, 0.45) 100%\\n    );\\n    -webkit-backdrop-filter: saturate(3);\\n    backdrop-filter: saturate(3);\\n  }\\n  \\n  .content[_ngcontent-%COMP%] {\\n    background-color: rgb(255 255 255 / 31%);\\n    backdrop-filter: blur(20px);\\n    -webkit-backdrop-filter: blur(20px);\\n    border: 1px solid rgba(255, 255, 255, 0.18);\\n    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);\\n  }\\n  \\n  .main[_ngcontent-%COMP%] {\\n    background-color: rgb(255 255 255 / 31%);\\n  }\\n  \\n  .main[_ngcontent-%COMP%]::-webkit-scrollbar {\\n    width: 6px;\\n    border-radius: 10px;\\n  }\\n  \\n  .main[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\n    background: rgb(1 2 3 / 40%);\\n    border-radius: 10px;\\n  }\\n  \\n  \\n\\n  input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:not(.social-button) {\\n    backdrop-filter: blur(10px);\\n    -webkit-backdrop-filter: blur(10px);\\n    transition: all 0.3s ease;\\n  }\\n  \\n  \\n\\n  button.social-button[_ngcontent-%COMP%]:hover {\\n    transform: translateY(-2px);\\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n  }\\n  .fade-in[_ngcontent-%COMP%] {\\n    animation: _ngcontent-%COMP%_fadeIn 0.3s ease-out;\\n  }\\n  \\n  @keyframes _ngcontent-%COMP%_fadeIn {\\n    from { opacity: 0; transform: translateY(-10px); }\\n    to { opacity: 1; transform: translateY(0); }\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4tYWRtaW4vbG9naW4tYWRtaW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlDQUFtQztJQUNuQyxzQkFBc0I7SUFDdEIsMkJBQTJCO0VBQzdCOztFQUVBO0lBQ0UsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixPQUFPO0lBQ1AsTUFBTTtJQUNOLFdBQVc7SUFDWCxZQUFZO0lBQ1o7Ozs7S0FJQztJQUNELG9DQUFvQztJQUNwQyw0QkFBNEI7RUFDOUI7O0VBRUE7SUFDRSx3Q0FBd0M7SUFDeEMsMkJBQTJCO0lBQzNCLG1DQUFtQztJQUNuQywyQ0FBMkM7SUFDM0MsZ0RBQWdEO0VBQ2xEOztFQUVBO0lBQ0Usd0NBQXdDO0VBQzFDOztFQUVBO0lBQ0UsVUFBVTtJQUNWLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLDRCQUE0QjtJQUM1QixtQkFBbUI7RUFDckI7O0VBRUEsa0NBQWtDO0VBQ2xDO0lBQ0UsMkJBQTJCO0lBQzNCLG1DQUFtQztJQUNuQyx5QkFBeUI7RUFDM0I7O0VBRUEsNkNBQTZDO0VBQzdDO0lBQ0UsMkJBQTJCO0lBQzNCLHlDQUF5QztFQUMzQztFQUNBO0lBQ0UsK0JBQStCO0VBQ2pDOztFQUVBO0lBQ0UsT0FBTyxVQUFVLEVBQUUsNEJBQTRCLEVBQUU7SUFDakQsS0FBSyxVQUFVLEVBQUUsd0JBQXdCLEVBQUU7RUFDN0MiLCJzb3VyY2VzQ29udGVudCI6WyIuYmFzZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL21hYy53ZWJwXCIpO1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgLmJhc2U6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXHJcbiAgICAgIDE4MGRlZyxcclxuICAgICAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcyKSAwJSxcclxuICAgICAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQ1KSAxMDAlXHJcbiAgICApO1xyXG4gICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IHNhdHVyYXRlKDMpO1xyXG4gICAgYmFja2Ryb3AtZmlsdGVyOiBzYXR1cmF0ZSgzKTtcclxuICB9XHJcbiAgXHJcbiAgLmNvbnRlbnQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSAyNTUgMjU1IC8gMzElKTtcclxuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigyMHB4KTtcclxuICAgIC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBibHVyKDIwcHgpO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgOHB4IDMycHggMCByZ2JhKDMxLCAzOCwgMTM1LCAwLjE1KTtcclxuICB9XHJcbiAgXHJcbiAgLm1haW4ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSAyNTUgMjU1IC8gMzElKTtcclxuICB9XHJcbiAgXHJcbiAgLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgIHdpZHRoOiA2cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICAubWFpbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDEgMiAzIC8gNDAlKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIEVmZmV0IGRlIHZlcnJlIHN1ciBsZXMgaW5wdXRzICovXHJcbiAgaW5wdXQsIGJ1dHRvbjpub3QoLnNvY2lhbC1idXR0b24pIHtcclxuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTtcclxuICAgIC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICB9XHJcbiAgXHJcbiAgLyogRWZmZXQgZGUgc3Vydm9sIHBvdXIgbGVzIGJvdXRvbnMgc29jaWF1eCAqL1xyXG4gIGJ1dHRvbi5zb2NpYWwtYnV0dG9uOmhvdmVyIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIH1cclxuICAuZmFkZS1pbiB7XHJcbiAgICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2Utb3V0O1xyXG4gIH1cclxuICBcclxuICBAa2V5ZnJhbWVzIGZhZGVJbiB7XHJcbiAgICBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMHB4KTsgfVxyXG4gICAgdG8geyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH1cclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginAdminComponent_div_1_Template_button_click_4_listener","ɵɵrestoreView","_r11","ctx_r10","ɵɵnextContext","ɵɵresetView","navigateToAdmin","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","welcomeEmail","LoginAdminComponent_div_2_Template_button_click_6_listener","_r13","ctx_r12","showAdminError","LoginAdminComponent_div_3_Template_button_click_6_listener","_r15","ctx_r14","showAuthError","ctx_r16","resetPasswordError","ctx_r18","resetEmail","LoginAdminComponent_div_4_div_7_Template_input_ngModelChange_4_listener","$event","_r22","ctx_r21","LoginAdminComponent_div_4_div_7_Template_button_click_6_listener","ctx_r23","showResetPasswordModal","LoginAdminComponent_div_4_div_7_Template_button_click_8_listener","ctx_r24","onResetPassword","ɵɵproperty","ctx_r19","LoginAdminComponent_div_4_div_8_Template_button_click_1_listener","_r26","ctx_r25","closeResetPasswordModal","ɵɵtemplate","LoginAdminComponent_div_4_div_4_Template","LoginAdminComponent_div_4_div_5_Template","LoginAdminComponent_div_4_div_6_Template","LoginAdminComponent_div_4_div_7_Template","LoginAdminComponent_div_4_div_8_Template","ctx_r3","isLoading","resetPasswordSuccess","ctx_r4","errorMessage","LoginAdminComponent_div_19_span_1_Template","LoginAdminComponent_div_19_span_2_Template","tmp_0_0","ctx_r5","loginForm","get","errors","tmp_1_0","ctx_r29","codeVerificationError","LoginAdminComponent_div_52_div_4_Template","LoginAdminComponent_div_52_div_5_Template","LoginAdminComponent_div_52_Template_form_ngSubmit_6_listener","_r32","ctx_r31","onSubmitNewPassword","LoginAdminComponent_div_52_Template_input_ngModelChange_10_listener","ctx_r33","verificationEmail","LoginAdminComponent_div_52_Template_input_ngModelChange_14_listener","ctx_r34","verificationCode","LoginAdminComponent_div_52_Template_input_ngModelChange_18_listener","ctx_r35","newPassword","LoginAdminComponent_div_52_Template_button_click_20_listener","ctx_r36","showCodeVerificationModal","ctx_r8","LoginAdminComponent_div_53_Template_button_click_6_listener","_r38","ctx_r37","navigateToLogin","LoginAdminComponent","constructor","fb","userService","authService","socialAuthService","router","SignInOptions","image","name","showWelcomeMessage","showPasswordChangedModal","group","email","required","password","recaptcha","ngOnInit","authState","subscribe","user","socialUser","isLoggedin","handleSocialLogin","registerWithGoogle","next","response","token","localStorage","setItem","setAuthToken","navigate","error","err","console","signOut","then","log","clearAuth","catch","onSubmit","invalid","value","login","userInfo","getUserInfoFromToken","setTimeout","handleImageError","event","img","target","src","style","border","openResetPasswordModal","preventDefault","resetPassword","message","changePassword","navigateRegister","handleCaptchaResolve","ɵɵdirectiveInject","i1","FormBuilder","i2","UserService","i3","AuthService","i4","SocialAuthService","i5","Router","selectors","decls","vars","consts","template","LoginAdminComponent_Template","rf","ctx","LoginAdminComponent_div_1_Template","LoginAdminComponent_div_2_Template","LoginAdminComponent_div_3_Template","LoginAdminComponent_div_4_Template","ɵɵelement","LoginAdminComponent_Template_form_ngSubmit_13_listener","LoginAdminComponent_div_14_Template","LoginAdminComponent_div_19_Template","LoginAdminComponent_div_24_Template","LoginAdminComponent_Template_re_captcha_resolved_26_listener","LoginAdminComponent_div_27_Template","LoginAdminComponent_Template_a_click_33_listener","LoginAdminComponent_Template_button_click_50_listener","LoginAdminComponent_div_52_Template","LoginAdminComponent_div_53_Template","ɵɵclassProp","tmp_6_0","touched","tmp_7_0","tmp_8_0","tmp_9_0","tmp_10_0"],"sources":["C:\\Users\\Sakka\\Desktop\\final\\dashboard-v2\\src\\app\\login-admin\\login-admin.component.ts","C:\\Users\\Sakka\\Desktop\\final\\dashboard-v2\\src\\app\\login-admin\\login-admin.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { UserService } from '../user.service';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\nimport { GoogleLoginProvider, SocialAuthService, SocialUser } from '@abacritt/angularx-social-login';\n\n@Component({\n  selector: 'app-login-admin',\n  templateUrl: './login-admin.component.html',\n  styleUrls: ['./login-admin.component.css']\n})\n\n\nexport class LoginAdminComponent {\n  socialUser!: SocialUser;\n  isLoggedin?: boolean;\n  SignInOptions = [\n    {\n      image: 'assets/images/authentication/google.svg',\n      name: 'Google'\n    },\n  \n  ];\n\n  loginForm: FormGroup;\n  errorMessage: String = '';\n  showWelcomeMessage = false;\n  showAdminError = false;\n  showAuthError = false;\n  welcomeEmail = '';\n  isLoading=false;\n\n  showResetPasswordModal = false;\n  resetEmail = '';\n  resetPasswordSuccess = false;\n  resetPasswordError = '';\n\n\n  showCodeVerificationModal = false;\nshowPasswordChangedModal = false;\nverificationEmail = '';\nverificationCode = '';\nnewPassword = '';\ncodeVerificationError = '';\n\n\n  constructor(\n    private fb: FormBuilder,\n    private userService: UserService,\n    private authService:AuthService,\n    private socialAuthService: SocialAuthService,\n\n    private router: Router\n  ) {\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required],\n      recaptcha: ['', Validators.required]\n    });\n\n\n  }\n\n  ngOnInit() {\n    this.socialAuthService.authState.subscribe((user) => {\n      this.socialUser = user;\n      this.isLoggedin = user != null;\n      if (this.isLoggedin) {\n        this.handleSocialLogin(user);\n      }\n    });\n  }\n  private handleSocialLogin(user: SocialUser) {\n    this.userService.registerWithGoogle(user).subscribe({\n      next: (response: any) => {\n        if (response.token) {\n          localStorage.setItem('auth_token', response.token);\n          this.authService.setAuthToken(response.token);\n          this.router.navigate(['/admin/user-admin']);\n        }\n      },\n      error: (err) => {\n        console.error('Erreur lors de la connexion avec Google', err);\n      }\n    });\n  }\n\n  // Ajoutez cette méthode à votre classe existante\n\n\n// Ajoutez cette méthode pour gérer le logout Google si nécessaire\nsignOut(): void {\n  this.socialAuthService.signOut()\n    .then(() => {\n      console.log('Déconnexion Google réussie');\n      this.authService.clearAuth();\n    })\n    .catch((err) => {\n      console.error('Erreur lors de la déconnexion Google', err);\n    });\n}\n \n  onSubmit() {\n    this.errorMessage = '';\n    this.showWelcomeMessage = false;\n    this.showAdminError = false;\n    this.showAuthError = false;\n    \n    if (this.loginForm.invalid) {\n      return;\n    }\n  \n    const { email, password } = this.loginForm.value;\n    \n    this.userService.login({ email, password }).subscribe({\n      next: (response) => {\n        if (response.token) {\n          localStorage.setItem('auth_token', response.token);\n          this.authService.setAuthToken(response.token);\n\n          const userInfo = this.authService.getUserInfoFromToken(response.token);\n          this.welcomeEmail = userInfo?.email || '';\n          this.showWelcomeMessage = true;\n\n          // Retarder la redirection pour laisser voir le message\n          setTimeout(() => {\n            // Redirection ou autre action après connexion\n          }, 2000); // 2 secondes de délai\n        } else {\n          this.showAuthError = true;\n        }\n      },\n      error: () => {\n        this.showAuthError = true;\n      }\n    });\n}\n  \n  \n  navigateToAdmin() {\n    this.showWelcomeMessage = false; // Cache la modal\n    this.router.navigate(['admin/user-admin']); // Redirection\n  }\n\n  handleImageError(event: Event) {\n    const img = event.target as HTMLImageElement;\n    console.error('Image non trouvée:', img.src);\n    img.style.border = '2px solid red';\n  }\n\n  openResetPasswordModal(event: Event) {\n    event.preventDefault();\n    this.resetEmail = '';\n    this.isLoading = true;\n\n    this.resetPasswordSuccess = false;\n    this.resetPasswordError = '';\n    this.showResetPasswordModal = true;\n  }\n\n  onResetPassword() {\n    if (!this.resetEmail) {\n      this.resetPasswordError = 'Veuillez entrer une adresse email';\n      return;\n    }\n  \n    this.resetPasswordError = '';\n    this.resetPasswordSuccess = false;\n  \n    this.userService.resetPassword(this.resetEmail).subscribe({\n      next: (response) => {\n        // Le serveur a répondu avec un statut 200\n        this.resetPasswordSuccess = true;\n        this.isLoading = false;\n\n        this.resetPasswordError = '';\n      },\n      error: (err) => {\n        // Il y a eu une erreur HTTP ou le serveur a renvoyé une erreur\n        this.resetPasswordError = err.message || 'Une erreur est survenue';\n        this.resetPasswordSuccess = false;\n        this.isLoading = false;\n\n        console.error('Erreur reset password:', err);\n      }\n    });\n  }\n\n\n  \n  \n  // Nouvelle méthode pour gérer la fermeture du premier modal\n  closeResetPasswordModal() {\n    this.showResetPasswordModal = false;\n    if (this.resetPasswordSuccess) {\n      this.showCodeVerificationModal = true;\n    }\n  }\n  \n  // Nouvelle méthode pour valider le code et changer le mot de passe\n  onSubmitNewPassword() {\n    if (!this.verificationCode || !this.newPassword) {\n      this.codeVerificationError = 'Veuillez remplir tous les champs';\n      return;\n    }\n  \n    this.isLoading = true;\n    this.codeVerificationError = '';\n  \n    this.userService.changePassword(this.verificationCode, this.newPassword).subscribe({\n      next: () => {\n        this.isLoading = false;\n        this.showCodeVerificationModal = false;\n        this.showPasswordChangedModal = true;\n      },\n      error: (err) => {\n        this.codeVerificationError = err.message || 'Code invalide ou erreur lors du changement';\n        this.isLoading = false;\n      }\n    });\n  }\n  \n  // Méthode pour rediriger vers la page de login\n  navigateToLogin() {\n    this.showPasswordChangedModal = false;\n    this.router.navigate(['/admin/login-admin']); // Adaptez le chemin selon votre configuration\n  }\n  navigateRegister(){\n    this.router.navigate(['/user/register']); // Adaptez le chemin selon votre configuration\n\n  }\n\n  handleCaptchaResolve(token: string) {\n    console.log('reCAPTCHA resolved:', token);\n    // Stockez le token si nécessaire (mais sans backend, c'est juste visuel)\n  }\n}\n","<div class=\"base fixed inset-0 flex items-center justify-center p-4 bg-white\">\n  <!-- Messages modaux -->\n  <!-- Message de bienvenue -->\n  <div *ngIf=\"showWelcomeMessage\" class=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 fade-in\">\n    <div class=\"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full mx-4\">\n      <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Bienvenue {{ welcomeEmail }} !</h3>\n      <button \n        (click)=\"navigateToAdmin()\"\n        class=\"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition\">\n        Continuer\n      </button>\n    </div>\n  </div>\n\n  <!-- Erreur admin -->\n  <div *ngIf=\"showAdminError\" class=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 fade-in\">\n    <div class=\"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full mx-4\">\n      <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Accès refusé</h3>\n      <p class=\"text-gray-600 mb-4\">Vous n'êtes pas autorisé à vous connecter en tant qu'administrateur.</p>\n      <button (click)=\"showAdminError = false\" class=\"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition\">\n        Compris\n      </button>\n    </div>\n  </div>\n\n  <!-- Erreur d'authentification -->\n  <div *ngIf=\"showAuthError\" class=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 fade-in\">\n    <div class=\"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full mx-4\">\n      <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Échec de connexion</h3>\n      <p class=\"text-gray-600 mb-4\">Identifiants incorrects, veuillez réessayer.</p>\n      <button (click)=\"showAuthError = false\" class=\"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition\">\n        Réessayer\n      </button>\n    </div>\n  </div>\n\n  <!-- Ajoutez ce modal après les autres modals existants -->\n <div *ngIf=\"showResetPasswordModal\" class=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 fade-in\">\n  <div class=\"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full mx-4\">\n    <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Réinitialiser le mot de passe</h3>\n    \n    <div *ngIf=\"resetPasswordError\" class=\"mb-4 p-3 bg-red-100 text-red-700 rounded\">\n      {{ resetPasswordError }}\n    </div>\n    \n    <div *ngIf=\"isLoading\" class=\"mb-4 p-3 bg-blue-100 text-blue-700 rounded\">\n      An Email will be sended...\n    </div>\n    \n    <div *ngIf=\"resetPasswordSuccess\" class=\"mb-4 p-3 bg-green-100 text-green-700 rounded\">\n      Un email de réinitialisation a été envoyé à {{ resetEmail }}.\n    </div>\n    \n    <div *ngIf=\"!resetPasswordSuccess\">\n      <div class=\"mb-4\">\n        <label for=\"resetEmail\" class=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n        <input id=\"resetEmail\" [(ngModel)]=\"resetEmail\" type=\"email\" required\n               class=\"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-500 backdrop-blur-sm\">\n      </div>\n      \n      <div class=\"flex justify-end space-x-3\">\n        <button \n          (click)=\"showResetPasswordModal = false\"\n          class=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition\">\n          Annuler\n        </button>\n        <button \n          (click)=\"onResetPassword()\"\n          class=\"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition\">\n          Envoyer\n        </button>\n      </div>\n    </div>\n    \n  <!-- Dans le premier modal (reset password) -->\n <div *ngIf=\"resetPasswordSuccess\" class=\"mt-4\">\n  <button \n    (click)=\"closeResetPasswordModal()\"\n    class=\"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition\">\n    Continue\n  </button>\n</div>\n  </div>\n</div>\n\n<!-- Modifiez le lien \"Forgot password?\" pour ouvrir le modal -->\n<script src=\"https://accounts.google.com/gsi/client\" async defer></script>\n<head>\n  <script src=\"https://www.google.com/recaptcha/api.js\" async defer></script>\n</head>\n  <!-- Formulaire de login -->\n  <div class=\"content rounded-2xl shadow-xl overflow-hidden w-full max-w-md\">\n    <div class=\"main p-8 space-y-6\">\n      <div class=\"text-center\">\n        <h1 class=\"text-3xl font-bold text-gray-800\">Welcome Back</h1>\n        <p class=\"text-gray-600 mt-2\">Sign in to access your dashboard</p>\n      </div>\n\n      <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\" class=\"space-y-5\">\n        <div *ngIf=\"errorMessage\" class=\"text-red-500 text-sm text-center\">\n          {{ errorMessage }}\n        </div>\n        \n        <div>\n          <label for=\"email\" class=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n          <input id=\"email\" formControlName=\"email\" type=\"email\" required\n                 class=\"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-500 backdrop-blur-sm\"\n                 [class.border-red-500]=\"loginForm.get('email')?.invalid && loginForm.get('email')?.touched\">\n          <div *ngIf=\"loginForm.get('email')?.invalid && loginForm.get('email')?.touched\" class=\"text-red-500 text-xs mt-1\">\n            <span *ngIf=\"loginForm.get('email')?.errors?.['required']\">Email is required</span>\n            <span *ngIf=\"loginForm.get('email')?.errors?.['email']\">Please enter a valid email</span>\n          </div>\n        </div>\n\n        <div>\n          <label for=\"password\" class=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\n          <input id=\"password\" formControlName=\"password\" type=\"password\" required\n                 class=\"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-500 backdrop-blur-sm\"\n                 [class.border-red-500]=\"loginForm.get('password')?.invalid && loginForm.get('password')?.touched\">\n          <div *ngIf=\"loginForm.get('password')?.invalid && loginForm.get('password')?.touched\" class=\"text-red-500 text-xs mt-1\">\n            Password is required\n          </div>\n        </div>\n        <div class=\"mt-4\">\n          <re-captcha\n            formControlName=\"recaptcha\"\n            siteKey=\"6Ld1YR0rAAAAAP6eKOKSMFp_wd1Uzj3Vfm4hJpJn\"\n            (resolved)=\"handleCaptchaResolve($event)\"\n          ></re-captcha>\n          <div *ngIf=\"loginForm.get('recaptcha')?.invalid && loginForm.get('recaptcha')?.touched\" \n               class=\"text-red-500 text-xs mt-1\">\n            Veuillez valider que vous n'êtes pas un robot.\n          </div>\n        </div>\n      \n\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center\">\n            <input id=\"remember\" name=\"remember\" type=\"checkbox\"\n                   class=\"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded\">\n            <label for=\"remember\" class=\"ml-2 text-sm text-gray-700\">Remember me</label>\n          </div>\n\n          <a href=\"#\" (click)=\"openResetPasswordModal($event)\" class=\"text-sm font-medium text-purple-600 hover:text-purple-500\">Forgot password?</a>\n        </div>\n\n        <button type=\"submit\"\n                class=\"w-full py-3 px-4 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5\"\n                [disabled]=\"loginForm.invalid\" >\n          Sign In\n        </button>\n      </form>\n\n      <div class=\"relative my-6\">\n        <div class=\"absolute inset-0 flex items-center\">\n          <div class=\"w-full border-t border-gray-300/50\"></div>\n        </div>\n        <div class=\"mt-6\">\n          <div class=\"relative\">\n            <div class=\"absolute inset-0 flex items-center\">\n              <div class=\"w-full border-t border-gray-300\"></div>\n            </div>\n            <div class=\"relative flex justify-center text-sm\">\n              <span class=\"px-2 bg-white text-gray-500\">Or continue with</span>\n            </div>\n          </div>\n        \n          <div class=\"mt-6\">\n            <asl-google-signin-button \n              type=\"standard\"\n              size=\"medium\"\n              class=\"w-full flex justify-center\">\n            </asl-google-signin-button>\n          </div>\n        </div>\n      </div>\n\n     \n        Don't have an account? \n        <button  (click)=\"navigateRegister()\"class=\"font-medium text-purple-600 hover:text-purple-500\">Sign up</button>\n     \n    </div>\n  </div>\n</div>\n<!-- Modal pour saisie du code et nouveau mot de passe -->\n<div *ngIf=\"showCodeVerificationModal\" class=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 fade-in\">\n  <div class=\"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full mx-4\">\n    <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Changer le mot de passe</h3>\n    \n    <div *ngIf=\"codeVerificationError\" class=\"mb-4 p-3 bg-red-100 text-red-700 rounded\">\n      {{ codeVerificationError }}\n    </div>\n    \n    <div *ngIf=\"isLoading\" class=\"mb-4 p-3 bg-blue-100 text-blue-700 rounded\">\n      Vérification en cours...\n    </div>\n    \n    <form (ngSubmit)=\"onSubmitNewPassword()\" class=\"space-y-4\">\n      <div>\n        <label for=\"verificationEmail\" class=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n        <input id=\"verificationEmail\" [(ngModel)]=\"verificationEmail\" name=\"email\" type=\"email\" required\n               class=\"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-500 backdrop-blur-sm\">\n      </div>\n      \n      <div>\n        <label for=\"verificationCode\" class=\"block text-sm font-medium text-gray-700 mb-1\">Code de vérification</label>\n        <input id=\"verificationCode\" [(ngModel)]=\"verificationCode\" name=\"code\" type=\"text\" required\n               class=\"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-500 backdrop-blur-sm\">\n      </div>\n      \n      <div>\n        <label for=\"newPassword\" class=\"block text-sm font-medium text-gray-700 mb-1\">Nouveau mot de passe</label>\n        <input id=\"newPassword\" [(ngModel)]=\"newPassword\" name=\"newPassword\" type=\"password\" required\n               class=\"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder-gray-500 backdrop-blur-sm\">\n      </div>\n      \n      <div class=\"flex justify-end space-x-3\">\n        <button type=\"button\" \n                (click)=\"showCodeVerificationModal = false\"\n                class=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition\">\n          Annuler\n        </button>\n        <button type=\"submit\"\n                class=\"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition\">\n          Valider\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n\n<!-- Modal de succès -->\n<div *ngIf=\"showPasswordChangedModal\" class=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 fade-in\">\n  <div class=\"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full mx-4\">\n    <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Mot de passe changé</h3>\n    <p class=\"text-gray-600 mb-4\">Votre mot de passe a été changé avec succès.</p>\n    <button (click)=\"navigateToLogin()\" class=\"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition\">\n      Se connecter\n    </button>\n  </div>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}